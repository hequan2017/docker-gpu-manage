# å¤©å¯ç®—åŠ›ç®¡ç†å¹³å°

## ğŸ“– é¡¹ç›®ä»‹ç»

**Docker GPU ç®—åŠ›èµ„æºç®¡ç†å¹³å°** æ˜¯ä¸€ä¸ªä¼ä¸šçº§çš„ GPU å®¹å™¨åŒ–èµ„æºç®¡ç†å’Œè°ƒåº¦ç³»ç»Ÿï¼Œæ—¨åœ¨å¸®åŠ©ç»„ç»‡é«˜æ•ˆã€å®‰å…¨åœ°ç®¡ç†å’Œåˆ†é… GPU ç®—åŠ›èµ„æºã€‚å¹³å°é‡‡ç”¨ç°ä»£åŒ–çš„å¾®æœåŠ¡æ¶æ„ï¼Œæä¾›ä»èµ„æºç®¡ç†åˆ°å®¹å™¨å®ä¾‹å…¨ç”Ÿå‘½å‘¨æœŸçš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚


### ğŸš€ é¡¹ç›®å›¾ç‰‡
![ç³»ç»Ÿæˆªå›¾](docs/4.png)
![ç³»ç»Ÿæˆªå›¾](docs/1.png)
![ç³»ç»Ÿæˆªå›¾](docs/2.png)
![ç³»ç»Ÿæˆªå›¾](docs/3.png)
![ç³»ç»Ÿæˆªå›¾](docs/5.png)


### ğŸ¯ é¡¹ç›®ç›®æ ‡

éšç€äººå·¥æ™ºèƒ½ã€æ·±åº¦å­¦ä¹ ã€ç§‘å­¦è®¡ç®—ç­‰é¢†åŸŸçš„å¿«é€Ÿå‘å±•ï¼ŒGPU ç®—åŠ›èµ„æºå·²æˆä¸ºç¨€ç¼ºä¸”æ˜‚è´µçš„è®¡ç®—èµ„æºã€‚ä¼ ç»Ÿçš„ GPU èµ„æºç®¡ç†æ–¹å¼å­˜åœ¨ä»¥ä¸‹ç—›ç‚¹ï¼š

- **èµ„æºåˆ©ç”¨ç‡ä½**ï¼šGPU èµ„æºåˆ†é…ä¸çµæ´»ï¼Œéš¾ä»¥å®ç°ç»†ç²’åº¦çš„èµ„æºåˆ‡åˆ†å’Œå…±äº«
- **ç®¡ç†æˆæœ¬é«˜**ï¼šå¤šèŠ‚ç‚¹ã€å¤š GPU ç¯å¢ƒä¸‹çš„èµ„æºç®¡ç†å¤æ‚ï¼Œç¼ºä¹ç»Ÿä¸€çš„ç®¡ç†ç•Œé¢
- **å®‰å…¨æ€§ä¸è¶³**ï¼šç¼ºä¹å®Œå–„çš„æƒé™æ§åˆ¶å’Œè®¿é—®å®¡è®¡æœºåˆ¶
- **è¿ç»´æ•ˆç‡ä½**ï¼šå®¹å™¨åˆ›å»ºã€ç›‘æ§ã€ç»´æŠ¤ç­‰æ“ä½œéœ€è¦å¤§é‡äººå·¥å¹²é¢„

æœ¬å¹³å°è‡´åŠ›äºè§£å†³ä¸Šè¿°é—®é¢˜ï¼Œæä¾›ï¼š

âœ… **ç»Ÿä¸€çš„èµ„æºç®¡ç†**ï¼šé›†ä¸­ç®¡ç†å¤šä¸ª GPU ç®—åŠ›èŠ‚ç‚¹ï¼Œå®ç°èµ„æºçš„ç»Ÿä¸€è°ƒåº¦å’Œåˆ†é…  
âœ… **çµæ´»çš„èµ„æºé…ç½®**ï¼šæ”¯æŒ GPU æ˜¾å­˜åˆ‡åˆ†ï¼Œå®ç°æ›´ç»†ç²’åº¦çš„èµ„æºåˆ†é…ï¼Œæé«˜èµ„æºåˆ©ç”¨ç‡  
âœ… **å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼šä»å®¹å™¨åˆ›å»ºåˆ°åˆ é™¤çš„å…¨æµç¨‹è‡ªåŠ¨åŒ–ç®¡ç†  
âœ… **å®‰å…¨å¯é çš„è®¿é—®æ§åˆ¶**ï¼šåŸºäº RBAC çš„æƒé™ç®¡ç†ï¼Œæ”¯æŒ SSH è·³æ¿æœºå’Œ Web ç»ˆç«¯  
âœ… **å®æ—¶ç›‘æ§ä¸è¿ç»´**ï¼šå®¹å™¨çŠ¶æ€è‡ªåŠ¨åŒæ­¥ã€èµ„æºä½¿ç”¨ç‡å®æ—¶ç›‘æ§ã€æ—¥å¿—æŸ¥çœ‹ç­‰è¿ç»´åŠŸèƒ½  

### ğŸŒŸ æ ¸å¿ƒç‰¹è‰²

1. **æ™ºèƒ½èµ„æºåŒ¹é…**ï¼šæ ¹æ®äº§å“è§„æ ¼çš„ GPU éœ€æ±‚ã€æ˜¾å­˜éœ€æ±‚ã€CPUã€å†…å­˜ã€ç£ç›˜ç­‰èµ„æºè¿›è¡Œæ™ºèƒ½åŒ¹é…ï¼Œè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜ç®—åŠ›èŠ‚ç‚¹
2. **æ˜¾å­˜åˆ‡åˆ†æ”¯æŒ**ï¼šæ”¯æŒ HAMi æ˜¾å­˜åˆ‡åˆ†æŠ€æœ¯ï¼Œå¯ä»¥å°†å•å— GPU çš„æ˜¾å­˜åˆ‡åˆ†ä¸ºå¤šä¸ªè™šæ‹Ÿ GPUï¼Œå®ç°æ›´çµæ´»çš„èµ„æºé…ç½®
3. **å¤šèŠ‚ç‚¹ç®¡ç†**ï¼šæ”¯æŒç®¡ç†å¤šä¸ªåˆ†å¸ƒå¼ GPU ç®—åŠ›èŠ‚ç‚¹ï¼Œæ”¯æŒ TLS å®‰å…¨è¿æ¥ï¼Œè‡ªåŠ¨æ£€æµ‹èŠ‚ç‚¹çŠ¶æ€
4. **SSH è·³æ¿æœºæœåŠ¡**ï¼šæä¾›å®‰å…¨çš„ SSH è·³æ¿æœºåŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ SSH è¿æ¥è·³æ¿æœºåé€‰æ‹©å¹¶è¿æ¥åˆ°è‡ªå·±çš„å®¹å™¨å®ä¾‹
5. **Web ç»ˆç«¯é›†æˆ**ï¼šå†…ç½® Web ç»ˆç«¯åŠŸèƒ½ï¼Œæ— éœ€é¢å¤–å·¥å…·å³å¯åœ¨æµè§ˆå™¨ä¸­ç›´æ¥æ“ä½œå®¹å™¨
6. **å®æ—¶èµ„æºç›‘æ§**ï¼šæä¾› CPUã€å†…å­˜ã€ç½‘ç»œ I/Oã€å—è®¾å¤‡ I/Oã€è¿›ç¨‹æ•°ç­‰å®æ—¶ç›‘æ§æŒ‡æ ‡
7. **è‡ªåŠ¨åŒ–è¿ç»´**ï¼šå®šæ—¶ä»»åŠ¡è‡ªåŠ¨æ£€æŸ¥å®¹å™¨çŠ¶æ€ï¼Œä¿æŒæ•°æ®åŒæ­¥ï¼Œå‡å°‘äººå·¥å¹²é¢„

### ğŸ¨ åº”ç”¨åœºæ™¯

- **AI/ML è®­ç»ƒå¹³å°**ï¼šä¸ºæœºå™¨å­¦ä¹ å›¢é˜Ÿæä¾›æŒ‰éœ€çš„ GPU å®¹å™¨å®ä¾‹ï¼Œæ”¯æŒæ¨¡å‹è®­ç»ƒå’Œæ¨ç†
- **ç§‘ç ”è®¡ç®—å¹³å°**ï¼šä¸ºç§‘ç ”æœºæ„æä¾› GPU ç®—åŠ›èµ„æºæ± ï¼Œæ”¯æŒç§‘å­¦è®¡ç®—ã€ä»¿çœŸç­‰ä»»åŠ¡
- **äº‘æœåŠ¡æä¾›å•†**ï¼šä¸ºäº‘æœåŠ¡å•†æä¾› GPU å®¹å™¨åŒ–æœåŠ¡çš„åŸºç¡€å¹³å°
- **ä¼ä¸šå†…éƒ¨ç®—åŠ›ç®¡ç†**ï¼šå¸®åŠ©ä¼ä¸šç»Ÿä¸€ç®¡ç†å†…éƒ¨ GPU èµ„æºï¼Œæé«˜èµ„æºåˆ©ç”¨ç‡å’Œè¿ç»´æ•ˆç‡
- **æ•™è‚²æœºæ„**ï¼šä¸ºé«˜æ ¡å’ŒåŸ¹è®­æœºæ„æä¾› GPU æ•™å­¦å®éªŒç¯å¢ƒ

### ğŸš€ æŠ€æœ¯äº®ç‚¹

- **å‰åç«¯åˆ†ç¦»æ¶æ„**ï¼šé‡‡ç”¨ Gin + Vue3 çš„ç°ä»£åŒ–æŠ€æœ¯æ ˆï¼Œå‰åç«¯å®Œå…¨åˆ†ç¦»ï¼Œä¾¿äºå¼€å‘å’Œç»´æŠ¤
- **å¾®æœåŠ¡è®¾è®¡**ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œå„åŠŸèƒ½æ¨¡å—ç‹¬ç«‹ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤
- **å®‰å…¨å¯é **ï¼šæ”¯æŒ Docker TLS å®‰å…¨è¿æ¥ï¼ŒåŸºäº RBAC çš„æƒé™æ§åˆ¶ï¼ŒSSH è·³æ¿æœºå®‰å…¨è®¿é—®
- **é«˜æ€§èƒ½**ï¼šåŸºäº Go è¯­è¨€å¼€å‘ï¼Œæ€§èƒ½ä¼˜å¼‚ï¼Œæ”¯æŒé«˜å¹¶å‘åœºæ™¯
- **æ˜“äºéƒ¨ç½²**ï¼šæä¾› Docker å’Œ Kubernetes éƒ¨ç½²æ–¹æ¡ˆï¼Œæ”¯æŒä¸€é”®éƒ¨ç½²

### æ ¸å¿ƒåŠŸèƒ½

**Docker GPU ç®¡ç†ï¼š**
- ğŸ³ **å®¹å™¨å®ä¾‹ç®¡ç†**ï¼šåˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€é‡å¯ã€åˆ é™¤ GPU å®¹å™¨å®ä¾‹ï¼Œæ”¯æŒè‡ªåŠ¨åˆ é™¤æŒ‚è½½æ•°æ®å·
- ğŸ–¥ï¸ **ç®—åŠ›èŠ‚ç‚¹ç®¡ç†**ï¼šç®¡ç†å¤šä¸ª GPU ç®—åŠ›èŠ‚ç‚¹ï¼Œæ”¯æŒ TLS å®‰å…¨è¿æ¥ï¼Œè‡ªåŠ¨æµ‹è¯• Docker è¿æ¥çŠ¶æ€
- ğŸ“¦ **é•œåƒåº“ç®¡ç†**ï¼šç»Ÿä¸€ç®¡ç† Docker é•œåƒä»“åº“ï¼Œæ”¯æŒæ˜¾å­˜åˆ‡åˆ†é…ç½®
- ğŸ’° **äº§å“è§„æ ¼ç®¡ç†**ï¼šå®šä¹‰ GPU äº§å“è§„æ ¼å’Œå®šä»·ï¼Œæ”¯æŒæ— æ˜¾å¡è§„æ ¼ï¼ˆGPU=0ï¼‰å’Œæ˜¾å­˜åˆ‡åˆ†
- ğŸ” **ç«¯å£è½¬å‘ç®¡ç†**ï¼šç®¡ç†ç«¯å£è½¬å‘è§„åˆ™ï¼Œæ”¯æŒ TCP/UDP åè®®ï¼Œå®æ—¶è¿æ¥çŠ¶æ€ç›‘æ§ï¼Œå®ç°çµæ´»çš„ç«¯å£æ˜ å°„
- ğŸ” **SSH è·³æ¿æœº**ï¼šé€šè¿‡ SSH å®‰å…¨è¿æ¥åˆ°å®¹å™¨å®ä¾‹
- ğŸ’» **Web ç»ˆç«¯**ï¼šåœ¨æµè§ˆå™¨ä¸­ç›´æ¥æ“ä½œå®¹å™¨
- ğŸ“Š **èµ„æºç›‘æ§**ï¼šå®æ—¶æŸ¥çœ‹å®¹å™¨çŠ¶æ€ã€æ—¥å¿—ã€CPU/å†…å­˜ä½¿ç”¨ç‡ã€ç½‘ç»œ I/Oã€å—è®¾å¤‡ I/Oã€è¿›ç¨‹æ•°

**Kubernetes é›†ç¾¤ç®¡ç†ï¼š**
- â˜¸ï¸ **é›†ç¾¤ç®¡ç†**ï¼šæ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤å¤šä¸ª K8s é›†ç¾¤ï¼Œæ”¯æŒ kubeconfig åŠ å¯†å­˜å‚¨
- ğŸ“¦ **å·¥ä½œè´Ÿè½½ç®¡ç†**ï¼šç®¡ç† Deploymentã€StatefulSetã€DaemonSet ç­‰å·¥ä½œè´Ÿè½½
- ğŸ³ **Pod ç®¡ç†**ï¼šæŸ¥çœ‹ Pod åˆ—è¡¨ã€è¯¦æƒ…ã€æ—¥å¿—ï¼Œæ”¯æŒè‡ªåŠ¨åˆ·æ–°
- ğŸŒ **Service ç®¡ç†**ï¼šç®¡ç†é›†ç¾¤æœåŠ¡ï¼ŒæŸ¥çœ‹ç«¯ç‚¹ä¿¡æ¯
- ğŸ“Š **ç›‘æ§æŒ‡æ ‡**ï¼šæ”¶é›†é›†ç¾¤ã€èŠ‚ç‚¹ã€Pod çš„èµ„æºä½¿ç”¨æŒ‡æ ‡
- ğŸ” **æƒé™æ§åˆ¶**ï¼šåŸºäº RBAC çš„å¤šçº§æƒé™ç®¡ç†ï¼ˆå…¨å±€/é›†ç¾¤/å‘½åç©ºé—´ï¼‰
- ğŸ“ **æ“ä½œå®¡è®¡**ï¼šè®°å½•æ‰€æœ‰ K8s æ“ä½œæ—¥å¿—ï¼Œæ”¯æŒå®¡è®¡è¿½æº¯

**ç³»ç»ŸåŠŸèƒ½ï¼š**
- ğŸ‘¥ **æƒé™ç®¡ç†**ï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰
- âš¡ **æ˜¾å­˜åˆ‡åˆ†**ï¼šæ”¯æŒGPUæ˜¾å­˜åˆ‡åˆ†ï¼Œæ›´çµæ´»åœ°åˆ†é…GPUèµ„æº
- â° **å®šæ—¶ä»»åŠ¡**ï¼šè‡ªåŠ¨æ£€æŸ¥å®¹å™¨çŠ¶æ€ï¼Œä¿æŒæ•°æ®åŒæ­¥
- ğŸ–´ï¸ **æˆ´å°”èµ„äº§ç®¡ç†**ï¼šç‰©ç†æœåŠ¡å™¨èµ„äº§å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†
- ğŸ¤– **AI Agent**ï¼šé›†æˆæ™ºè°±GLM-4.7æ¨¡å‹ï¼Œæä¾›æ™ºèƒ½å¯¹è¯å’ŒAIè¾…åŠ©åŠŸèƒ½
- ğŸ§  **æ¨¡å‹å¾®è°ƒ**ï¼šæ”¯æŒLLaMAç­‰å¤§æ¨¡å‹çš„å¾®è°ƒä»»åŠ¡ç®¡ç†ï¼Œæä¾›å®Œæ•´çš„è®­ç»ƒæµç¨‹æ§åˆ¶

### åŠŸèƒ½æ¨¡å—

#### 1. é•œåƒåº“ç®¡ç†
ç®¡ç† Docker é•œåƒä»“åº“ä¿¡æ¯ï¼Œæ”¯æŒå¤šé•œåƒæºé…ç½®ã€‚

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| åå­— | string | âœ… | é•œåƒåº“åç§° |
| åœ°å€ | string | âœ… | é•œåƒåº“åœ°å€ |
| æè¿° | string | | é•œåƒåº“æè¿° |
| æ¥æº | string | | é•œåƒåº“æ¥æº |
| æ˜¯å¦æ”¯æŒæ˜¾å­˜åˆ‡åˆ† | bool | âœ… | é»˜è®¤å¦ï¼Œæ˜¯å¦æ”¯æŒGPUæ˜¾å­˜åˆ‡åˆ† |
| æ˜¯å¦ä¸Šæ¶ | bool | âœ… | é»˜è®¤ä¸Šæ¶ |
| å¤‡æ³¨ | string | | å¤‡æ³¨ä¿¡æ¯ |

#### 2. ç®—åŠ›èŠ‚ç‚¹ç®¡ç†
ç®¡ç† GPU ç®—åŠ›èŠ‚ç‚¹ï¼Œæ”¯æŒ Docker TLS å®‰å…¨è¿æ¥ï¼Œè‡ªåŠ¨æµ‹è¯• Docker è¿æ¥çŠ¶æ€ã€‚

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| åå­— | string | âœ… | èŠ‚ç‚¹åç§° |
| åŒºåŸŸ | string | | èŠ‚ç‚¹åŒºåŸŸ |
| CPU | string | | CPU ä¿¡æ¯ |
| å†…å­˜ | string | | å†…å­˜ä¿¡æ¯ |
| ç³»ç»Ÿç›˜å®¹é‡ | string | | ç³»ç»Ÿç›˜å¤§å° |
| æ•°æ®ç›˜å®¹é‡ | string | | æ•°æ®ç›˜å¤§å° |
| IPåœ°å€å…¬ç½‘ | string | âœ… | å…¬ç½‘ IP |
| IPåœ°å€å†…ç½‘ | string | âœ… | å†…ç½‘ IP |
| SSHç«¯å£ | int | âœ… | é»˜è®¤ 22 |
| ç”¨æˆ·å | string | | SSH ç”¨æˆ·å |
| å¯†ç  | string | | SSH å¯†ç  |
| æ˜¾å¡åç§° | string | | GPU å‹å· |
| æ˜¾å¡æ•°é‡ | int | | GPU æ•°é‡ |
| æ˜¾å­˜å®¹é‡ | int | | å•å¡æ˜¾å­˜å®¹é‡(GB) |
| HAMi-coreç›®å½• | string |  | èŠ‚ç‚¹HAMi-core buildç›®å½•è·¯å¾„ï¼Œç”¨äºæ˜¾å­˜åˆ‡åˆ†æŒ‚è½½ï¼Œç¤ºä¾‹ï¼š/root/HAMi-core/build |
| Dockerè¿æ¥åœ°å€ | string | | Docker API åœ°å€ |
| ä½¿ç”¨TLS | bool | | é»˜è®¤å¯ç”¨ |
| CAè¯ä¹¦ | text | | TLS CA è¯ä¹¦ |
| å®¢æˆ·ç«¯è¯ä¹¦ | text | | TLS å®¢æˆ·ç«¯è¯ä¹¦ |
| å®¢æˆ·ç«¯ç§é’¥ | text | | TLS å®¢æˆ·ç«¯ç§é’¥ |
| DockerçŠ¶æ€ | string | | è‡ªåŠ¨æµ‹è¯•ï¼ˆconnected/failed/unknownï¼‰ |
| æ˜¯å¦ä¸Šæ¶ | bool | âœ… | é»˜è®¤ä¸Šæ¶ |
| å¤‡æ³¨ | string | | å¤‡æ³¨ä¿¡æ¯ |

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… åˆ›å»ºæˆ–æ›´æ–°èŠ‚ç‚¹æ—¶è‡ªåŠ¨æµ‹è¯• Docker TCP è¿æ¥
- âœ… å®æ—¶æ˜¾ç¤º Docker è¿æ¥çŠ¶æ€ï¼ˆå·²è¿æ¥/è¿æ¥å¤±è´¥/æœªçŸ¥ï¼‰
- âœ… æ”¯æŒ TLS å’Œé TLS è¿æ¥æµ‹è¯•

#### 3. äº§å“è§„æ ¼ç®¡ç†
å®šä¹‰ GPU ç®—åŠ›äº§å“è§„æ ¼å’Œå®šä»·ï¼Œæ”¯æŒæ— æ˜¾å¡è§„æ ¼ï¼ˆCPU å®¹å™¨ï¼‰ã€‚

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| åç§° | string | âœ… | è§„æ ¼åç§° |
| æ˜¾å¡å‹å· | string | | GPU å‹å·ï¼ˆGPU=0 æ—¶å¯ä¸ºç©ºï¼‰ |
| æ˜¾å¡æ•°é‡ | int | | GPU æ•°é‡ï¼ˆ0 è¡¨ç¤ºæ— æ˜¾å¡ï¼‰ |
| æ˜¾å­˜å®¹é‡(GB) | int | | æ˜¾å­˜å®¹é‡ |
| æ˜¯å¦æ”¯æŒæ˜¾å­˜åˆ‡åˆ† | bool | âœ… | é»˜è®¤å¦ï¼Œæ˜¯å¦æ”¯æŒGPUæ˜¾å­˜åˆ‡åˆ† |
| CPUæ ¸å¿ƒæ•° | int | | CPU æ ¸å¿ƒæ•° |
| å†…å­˜(GB) | int | | å†…å­˜å¤§å° |
| ç³»ç»Ÿç›˜å®¹é‡(GB) | int | | ç³»ç»Ÿç›˜å¤§å° |
| æ•°æ®ç›˜å®¹é‡(GB) | int | | æ•°æ®ç›˜å¤§å° |
| ä»·æ ¼/å°æ—¶ | float64 | | æ¯å°æ—¶ä»·æ ¼ |
| æ˜¯å¦ä¸Šæ¶ | bool | âœ… | é»˜è®¤ä¸Šæ¶ |
| å¤‡æ³¨ | string | | å¤‡æ³¨ä¿¡æ¯ |

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… æ”¯æŒæ— æ˜¾å¡è§„æ ¼ï¼ˆGPU=0ï¼‰ï¼Œåˆ›å»ºå®¹å™¨æ—¶ä¸æŒ‚è½½ GPU å‚æ•°
- âœ… æ— æ˜¾å¡è§„æ ¼åŒ¹é…èŠ‚ç‚¹æ—¶ï¼Œä¸æ£€æŸ¥ GPU å‹å·å’Œæ•°é‡
- âœ… æ‰€æœ‰èŠ‚ç‚¹éƒ½å¯ä»¥åŒ¹é…æ— æ˜¾å¡è§„æ ¼ï¼ˆåªè¦æ»¡è¶³ CPUã€å†…å­˜ã€ç£ç›˜è¦æ±‚ï¼‰
- âœ… æ”¯æŒæ˜¾å­˜åˆ‡åˆ†åŠŸèƒ½ï¼Œå¯ä»¥æ›´çµæ´»åœ°åˆ†é…GPUæ˜¾å­˜èµ„æº
- âœ… æ ¹æ®é•œåƒå’Œäº§å“è§„æ ¼çš„æ˜¾å­˜åˆ‡åˆ†æ”¯æŒæƒ…å†µï¼Œæ™ºèƒ½è¿‡æ»¤å¯ç”¨è§„æ ¼
- âœ… æ”¯æŒæ˜¾å­˜åˆ‡åˆ†çš„äº§å“è§„æ ¼åˆ›å»ºå®¹å™¨æ—¶ï¼Œè‡ªåŠ¨æ·»åŠ HAMiæ˜¾å­˜åˆ‡åˆ†ç›¸å…³å‚æ•°

#### 4. å®ä¾‹ç®¡ç†
ç®¡ç† GPU å®¹å™¨å®ä¾‹çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸï¼Œæä¾›ä¸°å¯Œçš„å®¹å™¨æ“ä½œåŠŸèƒ½ã€‚

**æ•°æ®å­—æ®µï¼š**

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| é•œåƒ | å…³è” | âœ… | å…³è”é•œåƒåº“ |
| äº§å“è§„æ ¼ | å…³è” | âœ… | å…³è”äº§å“è§„æ ¼ |
| ç”¨æˆ· | å…³è” | | åç«¯è‡ªåŠ¨å¡«å†™ |
| ç®—åŠ›èŠ‚ç‚¹ | å…³è” | âœ… | å…³è”ç®—åŠ›èŠ‚ç‚¹ |
| Dockerå®¹å™¨ID | string | | åç«¯è‡ªåŠ¨å›å¡« |
| Dockerå®¹å™¨åç§° | string | | åç«¯è‡ªåŠ¨å›å¡«ï¼ˆæ ¼å¼ï¼šåç§°-å®ä¾‹ID-æ—¶é—´æˆ³ï¼‰ |
| å®ä¾‹åç§° | string | âœ… | å®ä¾‹åç§° |
| å®¹å™¨çŠ¶æ€ | string | | åç«¯è‡ªåŠ¨å¡«å†™ï¼ˆrunning/exited/creating/failedï¼‰ |
| å¤‡æ³¨ | string | | å¤‡æ³¨ä¿¡æ¯ |

**æ”¯æŒæ“ä½œï¼š**

- **æŸ¥çœ‹**ï¼šæŸ¥çœ‹å®ä¾‹è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬èµ„æºä½¿ç”¨ç‡ç›‘æ§
- **SSHè¿æ¥**ï¼šæ˜¾ç¤ºSSHè¿æ¥å‘½ä»¤ï¼Œæ”¯æŒä¸€é”®å¤åˆ¶
- **å¯åŠ¨**ï¼šå¯åŠ¨å·²åœæ­¢çš„å®¹å™¨
- **åœæ­¢**ï¼šåœæ­¢è¿è¡Œä¸­çš„å®¹å™¨
- **é‡å¯**ï¼šé‡å¯å®¹å™¨å®ä¾‹
- **æ—¥å¿—**ï¼šæŸ¥çœ‹å®¹å™¨è¿è¡Œæ—¥å¿—ï¼ˆæ”¯æŒå®æ—¶åˆ·æ–°ï¼‰
- **ç»ˆç«¯**ï¼šWebç»ˆç«¯ï¼Œåœ¨æµè§ˆå™¨ä¸­ç›´æ¥æ“ä½œå®¹å™¨ï¼ˆæ”¯æŒbash/shï¼‰
- **åˆ é™¤**ï¼šåˆ é™¤å®ä¾‹å’Œå¯¹åº”çš„å®¹å™¨ï¼Œè‡ªåŠ¨åˆ é™¤æŒ‚è½½çš„æ•°æ®å·

**æ–°å¢å®ä¾‹åŠŸèƒ½ï¼š**
- âœ… æ™ºèƒ½ä¸»æœºåŒ¹é…ï¼šæ ¹æ®äº§å“è§„æ ¼çš„GPUéœ€æ±‚ã€æ˜¾å­˜éœ€æ±‚ã€CPUã€å†…å­˜ã€ç£ç›˜ç­‰èµ„æºè¿›è¡Œæ™ºèƒ½åŒ¹é…
- âœ… æ˜¾å­˜åˆ‡åˆ†æ”¯æŒï¼šæ ¹æ®é•œåƒçš„æ˜¾å­˜åˆ‡åˆ†æ”¯æŒæƒ…å†µï¼Œè‡ªåŠ¨è¿‡æ»¤å¯ç”¨çš„äº§å“è§„æ ¼
- âœ… å•å¡æ˜¾å­˜æ˜¾ç¤ºï¼šåœ¨é€‰æ‹©ä¸»æœºæ—¶æ˜¾ç¤ºå•å¡å¯ç”¨æ˜¾å­˜å¤§å°ï¼Œä¾¿äºåˆ¤æ–­æ˜¯å¦æ»¡è¶³éœ€æ±‚
- âœ… å®ä¾‹åç§°æ ¡éªŒï¼šå®ä¾‹åç§°ä»…æ”¯æŒå­—æ¯ã€æ•°å­—ã€æ¨ªçº¿å’Œä¸‹åˆ’çº¿ï¼Œä¸æ”¯æŒä¸­æ–‡
- âœ… èµ„æºåˆ†é…ä¼˜åŒ–ï¼šæ”¯æŒæŒ‰å¡åˆ†é…æ˜¾å­˜ï¼Œæ›´ç²¾ç¡®åœ°ç®¡ç†GPUèµ„æº
- âœ… å®¹å™¨åˆ›å»ºæ—¶å¦‚å¯ç”¨æ˜¾å­˜åˆ‡åˆ†ï¼šä»â€œç®—åŠ›èŠ‚ç‚¹â€çš„ HAMi-core ç›®å½•å­—æ®µè¯»å–è·¯å¾„ï¼ŒæŒ‚è½½åˆ°å®¹å™¨ /libvgpu/buildï¼Œå¹¶è‡ªåŠ¨æ³¨å…¥ LD_PRELOADã€CUDA_DEVICE_MEMORY_LIMITã€CUDA_DEVICE_SM_LIMIT ç¯å¢ƒå˜é‡ï¼›å¦‚æœªé…ç½®åˆ™ä½¿ç”¨é»˜è®¤è·¯å¾„ /root/HAMi-core/build

**èµ„æºç›‘æ§ï¼š**
- âœ… **CPUä½¿ç”¨ç‡**ï¼šå®æ—¶æ˜¾ç¤º CPU ä½¿ç”¨ç™¾åˆ†æ¯”ï¼ˆè¿›åº¦æ¡ï¼‰
- âœ… **å†…å­˜ä½¿ç”¨ç‡**ï¼šå®æ—¶æ˜¾ç¤ºå†…å­˜ä½¿ç”¨ç™¾åˆ†æ¯”å’Œè¯¦ç»†ä½¿ç”¨é‡ï¼ˆè¿›åº¦æ¡ï¼‰
- âœ… **ç½‘ç»œ I/O**ï¼šæ˜¾ç¤ºç½‘ç»œæ¥æ”¶å’Œå‘é€å­—èŠ‚æ•°
- âœ… **å—è®¾å¤‡ I/O**ï¼šæ˜¾ç¤ºå—è®¾å¤‡è¯»å–å’Œå†™å…¥å­—èŠ‚æ•°
- âœ… **è¿›ç¨‹æ•°**ï¼šæ˜¾ç¤ºå½“å‰å®¹å™¨è¿›ç¨‹æ•°
- âœ… è‡ªåŠ¨åˆ·æ–°ï¼šå®¹å™¨è¿è¡Œæ—¶æ¯ 5 ç§’è‡ªåŠ¨åˆ·æ–°ç»Ÿè®¡ä¿¡æ¯
- âœ… æ‰‹åŠ¨åˆ·æ–°ï¼šæ”¯æŒæ‰‹åŠ¨åˆ·æ–°æŒ‰é’®

**å®¹å™¨çŠ¶æ€ï¼š**
- `creating`ï¼šåˆ›å»ºä¸­
- `running`ï¼šè¿è¡Œä¸­
- `exited`ï¼šå·²åœæ­¢
- `failed`ï¼šåˆ›å»ºå¤±è´¥

**æƒé™æ§åˆ¶ï¼š**
- æ™®é€šç”¨æˆ·ï¼šåªèƒ½æ“ä½œè‡ªå·±åˆ›å»ºçš„å®ä¾‹
- ç®¡ç†å‘˜ï¼šå¯ä»¥æ“ä½œæ‰€æœ‰å®ä¾‹

**å®šæ—¶ä»»åŠ¡ï¼š**
- âœ… å•ä¸€åˆå¹¶ä»»åŠ¡ï¼šæ¯30ç§’æ‰§è¡Œä¸€æ¬¡ï¼Œé¡ºåºä¸º 1) æ£€æŸ¥æ‰€æœ‰ç®—åŠ›èŠ‚ç‚¹çš„ Docker è¿æ¥çŠ¶æ€å¹¶æ›´æ–° DockerStatusï¼ˆconnected/failedï¼‰ï¼›2) æ£€æŸ¥æ‰€æœ‰å®¹å™¨çš„è¿è¡ŒçŠ¶æ€å¹¶åˆ·æ–° CPU/å†…å­˜/GPU æ˜¾å­˜ä½¿ç”¨ç‡
- âœ… çŠ¶æ€è‡ªåŠ¨åŒæ­¥ï¼šè‡ªåŠ¨å°† Docker å®¹å™¨çš„å®é™…çŠ¶æ€åŒæ­¥åˆ°æ•°æ®åº“
- âœ… ä½¿ç”¨ gcron å®šæ—¶ä»»åŠ¡æ¡†æ¶ï¼ˆinitialize/timer.go å†…çš„ system-health-checkï¼‰ï¼Œç¨³å®šå¯é 
- âœ… æ—¥å¿—ä¼˜åŒ–ï¼šç§»é™¤å®šæ—¶ä»»åŠ¡å®Œæˆçš„æ±‡æ€» Info æ—¥å¿—ï¼Œä»…ä¿ç•™å¿…è¦çš„ Error/Warn åŠå°‘é‡ Debug æ—¥å¿—ï¼Œé™ä½æ§åˆ¶å°å™ªå£°

**æ•°æ®å·ç®¡ç†ï¼š**
- âœ… åˆ é™¤å®¹å™¨æ—¶è‡ªåŠ¨åˆ é™¤æ‰€æœ‰æŒ‚è½½çš„å‘½åæ•°æ®å·
- âœ… è‡ªåŠ¨è¯†åˆ«å®¹å™¨æŒ‚è½½çš„æ‰€æœ‰æ•°æ®å·ï¼ˆä¸ä»…ä»…æ˜¯é»˜è®¤çš„æ•°æ®å·ï¼‰
- âœ… å³ä½¿å®¹å™¨åˆ é™¤å¤±è´¥ï¼Œä¹Ÿä¼šå°è¯•åˆ é™¤æ•°æ®å·

#### 5. SSHè·³æ¿æœºæœåŠ¡
æä¾›SSHè·³æ¿æœºåŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡SSHè¿æ¥è·³æ¿æœºï¼Œç„¶åé€‰æ‹©å¹¶è¿æ¥åˆ°è‡ªå·±çš„å®¹å™¨å®ä¾‹ã€‚

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… SSHå¯†ç è®¤è¯ï¼ˆä½¿ç”¨ç³»ç»Ÿç”¨æˆ·è´¦å·å¯†ç ï¼‰
- âœ… è‡ªåŠ¨æ˜¾ç¤ºç”¨æˆ·åˆ›å»ºçš„å®¹å™¨åˆ—è¡¨
- âœ… æ”¯æŒç®¡ç†å‘˜æŸ¥çœ‹æ‰€æœ‰å®¹å™¨
- âœ… äº¤äº’å¼å®¹å™¨é€‰æ‹©
- âœ… è‡ªåŠ¨è¿æ¥åˆ°é€‰å®šçš„å®¹å™¨
- âœ… ç»ˆç«¯çª—å£å¤§å°è‡ªåŠ¨é€‚é…ï¼ˆæ”¯æŒvimç­‰ç¼–è¾‘å™¨ï¼‰
- âœ… æ”¯æŒTLSå’ŒéTLSçš„Dockerè¿æ¥

**é…ç½®è¯´æ˜ï¼š**

åœ¨ `server/config.yaml` ä¸­é…ç½®ï¼š

```yaml
jumpbox:
  enabled: true          # æ˜¯å¦å¯ç”¨SSHè·³æ¿æœº
  port: 2026            # SSHç›‘å¬ç«¯å£ï¼ˆé»˜è®¤2026ï¼‰
  server-ip: "192.168.112.148"
  host-key: ""          # SSHä¸»æœºå¯†é’¥è·¯å¾„ï¼ˆå¯é€‰ï¼Œä¸è®¾ç½®åˆ™è‡ªåŠ¨ç”Ÿæˆï¼‰
  banner: "æ¬¢è¿ä½¿ç”¨SSHè·³æ¿æœºæœåŠ¡\r\n"  # SSHæ¬¢è¿ä¿¡æ¯
```

**ä½¿ç”¨æ–¹æ³•ï¼š**

1. **å¯åŠ¨æœåŠ¡**
   - SSHè·³æ¿æœºæœåŠ¡ä¼šåœ¨åç«¯æœåŠ¡å¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨ï¼ˆå¦‚æœenabled=trueï¼‰
   - é»˜è®¤ç›‘å¬ç«¯å£ï¼š2026

2. **è¿æ¥è·³æ¿æœº**
   ```bash
   ssh -p 2026 ç”¨æˆ·å@æœåŠ¡å™¨IP
   # ä¾‹å¦‚ï¼šssh -p 2026 admin@192.168.112.148
   ```

3. **è®¤è¯ç™»å½•**
   - è¾“å…¥ç³»ç»Ÿç”¨æˆ·å¯†ç è¿›è¡Œè®¤è¯
   - è®¤è¯æˆåŠŸåæ˜¾ç¤ºå®¹å™¨åˆ—è¡¨

4. **é€‰æ‹©å®¹å™¨**
   - æŸ¥çœ‹æ˜¾ç¤ºçš„å®¹å™¨åˆ—è¡¨ï¼ˆæ ¼å¼ï¼šåºå· å®ä¾‹åç§°-å®¹å™¨ID-ç®—åŠ›èŠ‚ç‚¹ï¼‰
   - è¾“å…¥åºå·é€‰æ‹©è¦è¿æ¥çš„å®¹å™¨
   - è¾“å…¥ 'q' é€€å‡º

5. **å®¹å™¨æ“ä½œ**
   - è¿æ¥æˆåŠŸåå³å¯åœ¨å®¹å™¨å†…æ‰§è¡Œå‘½ä»¤
   - æ”¯æŒvimç­‰ç¼–è¾‘å™¨ï¼Œçª—å£å¤§å°è‡ªåŠ¨é€‚é…
   - åœ¨vimä¸­ä½¿ç”¨ `Shift+Insert` æˆ–é¼ æ ‡ä¸­é”®å¯ä»¥ç²˜è´´å‰ªè´´æ¿å†…å®¹

**æƒé™è¯´æ˜ï¼š**
- æ™®é€šç”¨æˆ·ï¼šåªèƒ½çœ‹åˆ°å’Œè¿æ¥è‡ªå·±åˆ›å»ºçš„å®¹å™¨
- ç®¡ç†å‘˜ï¼ˆauthorityId=888ï¼‰ï¼šå¯ä»¥çœ‹åˆ°å’Œè¿æ¥æ‰€æœ‰å®¹å™¨

**å‰ç«¯æ“ä½œï¼š**
- åœ¨å®ä¾‹ç®¡ç†é¡µé¢ï¼Œç‚¹å‡»"SSHè¿æ¥"æŒ‰é’®
- ç³»ç»Ÿä¼šæ˜¾ç¤ºSSHè¿æ¥å‘½ä»¤ï¼Œæ”¯æŒä¸€é”®å¤åˆ¶

#### 6. ç«¯å£è½¬å‘ç®¡ç†
æä¾›ç«¯å£è½¬å‘è§„åˆ™ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒTCP/UDPåè®®çš„ç«¯å£æ˜ å°„ï¼Œè‡ªåŠ¨è·å–æœ¬æœºIPåœ°å€ï¼Œå®ç°çµæ´»çš„ç½‘ç»œæµé‡è½¬å‘ã€‚

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… æ”¯æŒTCPå’ŒUDPåè®®
- âœ… è‡ªåŠ¨è·å–æœåŠ¡å™¨æ‰€æœ‰é127.0.0.1çš„IPåœ°å€ä½œä¸ºé»˜è®¤æºIP
- âœ… çµæ´»çš„ç«¯å£æ˜ å°„é…ç½®ï¼ˆæºIP:ç«¯å£ â†’ ç›®æ ‡IP:ç«¯å£ï¼‰
- âœ… å¯ç”¨/ç¦ç”¨çŠ¶æ€åˆ‡æ¢ï¼Œå®æ—¶ç”Ÿæ•ˆ
- âœ… æ‰¹é‡åˆ é™¤æ”¯æŒï¼Œæé«˜ç®¡ç†æ•ˆç‡
- âœ… å¤šæ¡ä»¶æœç´¢è¿‡æ»¤ï¼ˆæºIPã€åè®®ç±»å‹ã€çŠ¶æ€ï¼‰
- âœ… è§„åˆ™æè¿°å’Œå¤‡æ³¨ä¿¡æ¯ï¼Œä¾¿äºç®¡ç†
- âœ… ç›´è§‚çš„è¡¨æ ¼å±•ç¤ºï¼Œä¸€ç›®äº†ç„¶

**å­—æ®µè¯´æ˜ï¼š**

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| æºIPåœ°å€ | string | âœ… | ç›‘å¬çš„IPåœ°å€ï¼Œé»˜è®¤è‡ªåŠ¨è·å–æœ¬æœºIP |
| æºç«¯å£ | int | âœ… | ç›‘å¬çš„ç«¯å£å·ï¼ˆ1-65535ï¼‰ |
| åè®®ç±»å‹ | string | âœ… | TCPæˆ–UDP |
| ç›®æ ‡IPåœ°å€ | string | âœ… | è½¬å‘åˆ°çš„ç›®æ ‡IPåœ°å€ |
| ç›®æ ‡ç«¯å£ | int | âœ… | è½¬å‘åˆ°çš„ç›®æ ‡ç«¯å£ï¼ˆ1-65535ï¼‰ |
| çŠ¶æ€ | bool | âœ… | æ˜¯å¦å¯ç”¨è½¬å‘ |
| è§„åˆ™æè¿° | string | | è§„åˆ™è¯´æ˜ä¿¡æ¯ |

**å‰ç«¯ç•Œé¢åŠŸèƒ½ï¼š**

1. **æœç´¢è¿‡æ»¤**ï¼š
   - æŒ‰æºIPåœ°å€æœç´¢
   - æŒ‰åè®®ç±»å‹è¿‡æ»¤ï¼ˆTCP/UDPï¼‰
   - æŒ‰çŠ¶æ€è¿‡æ»¤ï¼ˆå¯ç”¨/ç¦ç”¨ï¼‰

2. **æ“ä½œåŠŸèƒ½**ï¼š
   - **æ–°å¢**ï¼šåˆ›å»ºæ–°çš„ç«¯å£è½¬å‘è§„åˆ™ï¼Œç‚¹å‡»"è·å–æœåŠ¡å™¨IP"æŒ‰é’®è‡ªåŠ¨å¡«å……å¯ç”¨IP
   - **ç¼–è¾‘**ï¼šä¿®æ”¹ç°æœ‰è½¬å‘è§„åˆ™é…ç½®
   - **åˆ é™¤**ï¼šå•æ¡åˆ é™¤æˆ–æ‰¹é‡åˆ é™¤
   - **çŠ¶æ€åˆ‡æ¢**ï¼šé€šè¿‡å¼€å…³å¿«é€Ÿå¯ç”¨/ç¦ç”¨è½¬å‘è§„åˆ™

3. **è¡¨æ ¼å±•ç¤º**ï¼š
   - åˆ›å»ºæ—¥æœŸ
   - æºåœ°å€ï¼ˆIP:ç«¯å£ï¼‰
   - åè®®ç±»å‹ï¼ˆå¸¦é¢œè‰²æ ‡ç­¾ï¼‰
   - ç›®æ ‡åœ°å€ï¼ˆIP:ç«¯å£ï¼‰
   - çŠ¶æ€ï¼ˆå¼€å…³æ§åˆ¶ï¼‰
   - æ“ä½œæŒ‰é’®ï¼ˆç¼–è¾‘ã€åˆ é™¤ï¼‰

**APIæ¥å£ï¼š**

- `POST /api/portForward/createPortForward` - åˆ›å»ºç«¯å£è½¬å‘è§„åˆ™
- `DELETE /api/portForward/deletePortForward` - åˆ é™¤ç«¯å£è½¬å‘è§„åˆ™
- `DELETE /api/portForward/deletePortForwardByIds` - æ‰¹é‡åˆ é™¤ç«¯å£è½¬å‘è§„åˆ™
- `PUT /api/portForward/updatePortForward` - æ›´æ–°ç«¯å£è½¬å‘è§„åˆ™
- `PUT /api/portForward/updatePortForwardStatus` - æ›´æ–°è§„åˆ™çŠ¶æ€
- `GET /api/portForward/findPortForward` - æ ¹æ®IDè·å–è§„åˆ™
- `GET /api/portForward/getPortForwardList` - è·å–è§„åˆ™åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰
- `GET /api/portForward/getServerIP` - è·å–æœåŠ¡å™¨IPåœ°å€åˆ—è¡¨

**ä½¿ç”¨åœºæ™¯ï¼š**
- ğŸ³ **å®¹å™¨æœåŠ¡ç«¯å£æ˜ å°„**ï¼šå°†å®¹å™¨å†…éƒ¨ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºå¤–éƒ¨ç«¯å£
- ğŸŒ **å†…ç½‘æœåŠ¡å¤–ç½‘è®¿é—®**ï¼šå®ç°å†…ç½‘æœåŠ¡é€šè¿‡å…¬ç½‘IPè®¿é—®
- âš–ï¸ **è´Ÿè½½å‡è¡¡é…ç½®**ï¼šé…åˆè´Ÿè½½å‡è¡¡å™¨å®ç°æµé‡åˆ†å‘
- ğŸ”€ **æœåŠ¡ä»£ç†è½¬å‘**ï¼šæ­å»ºæœåŠ¡ä»£ç†ï¼Œå®ç°è·¨ç½‘ç»œè®¿é—®
- ğŸ›¡ï¸ **å®‰å…¨è®¿é—®æ§åˆ¶**ï¼šé€šè¿‡ç«¯å£è½¬å‘é™åˆ¶ç‰¹å®šæœåŠ¡çš„è®¿é—®å…¥å£

**æŠ€æœ¯å®ç°ï¼š**
- åç«¯æ’ä»¶ï¼š`server/plugin/portforward/`
- å‰ç«¯æ’ä»¶ï¼š`web/src/plugin/portforward/`
- æ•°æ®æ¨¡å‹ï¼š`PortForward` (model/port_forward.go)
- åˆå§‹åŒ–SQLï¼š`portforward_install.sql`
- è‡ªåŠ¨è·å–æœ¬æœºæ‰€æœ‰ç½‘ç»œæ¥å£çš„éå›ç¯IPåœ°å€
- æ”¯æŒçŠ¶æ€å®æ—¶åˆ‡æ¢ï¼Œæ— éœ€é‡å¯æœåŠ¡
- å®æ—¶æ˜¾ç¤ºè½¬å‘å™¨è¿è¡ŒçŠ¶æ€å’Œæ´»è·ƒè¿æ¥æ•°
- æ”¯æŒè‡ªåŠ¨åˆ·æ–°ï¼ˆ5ç§’é—´éš”ï¼‰

#### 7. Kubernetes é›†ç¾¤ç®¡ç†
æä¾›å®Œæ•´çš„ Kubernetes é›†ç¾¤ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒå¤šé›†ç¾¤ç»Ÿä¸€ç®¡ç†ï¼ŒåŒ…å«å·¥ä½œè´Ÿè½½ã€æœåŠ¡ã€Pod ç­‰èµ„æºçš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… å¤šé›†ç¾¤ç®¡ç†ï¼Œæ”¯æŒæ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤ K8s é›†ç¾¤
- âœ… Kubeconfig åŠ å¯†å­˜å‚¨ï¼ˆAES-256-GCMï¼‰
- âœ… è¿æ¥æ± ç®¡ç†ï¼Œè‡ªåŠ¨æ¸…ç†è¿‡æœŸè¿æ¥
- âœ… å·¥ä½œè´Ÿè½½ç®¡ç†ï¼ˆDeploymentã€StatefulSetã€DaemonSetï¼‰
- âœ… Pod ç®¡ç†ï¼ˆåˆ—è¡¨ã€è¯¦æƒ…ã€æ—¥å¿—ã€è‡ªåŠ¨åˆ·æ–°ï¼‰
- âœ… Service ç®¡ç†ï¼ˆåˆ—è¡¨ã€è¯¦æƒ…ã€ç«¯ç‚¹æŸ¥çœ‹ï¼‰
- âœ… ç›‘æ§æŒ‡æ ‡æ”¶é›†ï¼ˆé›†ç¾¤ã€èŠ‚ç‚¹ã€Pod èµ„æºä½¿ç”¨ç‡ï¼‰
- âœ… åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶ï¼ˆRBACï¼‰
- âœ… æ“ä½œå®¡è®¡æ—¥å¿—

**é›†ç¾¤é…ç½®ï¼š**

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| åç§° | string | âœ… | é›†ç¾¤åç§° |
| Kubeconfig | text | âœ… | K8s é›†ç¾¤é…ç½®ï¼ˆåŠ å¯†å­˜å‚¨ï¼‰ |
| æè¿° | string | | é›†ç¾¤æè¿° |
| çŠ¶æ€ | bool | âœ… | æ˜¯å¦å¯ç”¨ |

**å·¥ä½œè´Ÿè½½æ“ä½œï¼š**

- **Deployment ç®¡ç†**ï¼š
  - åˆ—è¡¨æŸ¥çœ‹ï¼ˆå‰¯æœ¬æ•°ã€é•œåƒã€è¿è¡Œæ—¶é—´ï¼‰
  - è¯¦æƒ…æŸ¥çœ‹ï¼ˆYAMLã€å®¹å™¨é…ç½®ï¼‰
  - Pods æŸ¥çœ‹ï¼ˆå…³è”çš„ Pod åˆ—è¡¨ï¼‰
  - æ‰©ç¼©å®¹ï¼ˆè°ƒæ•´å‰¯æœ¬æ•°ï¼‰
  - é‡å¯ï¼ˆæ»šåŠ¨æ›´æ–°ï¼‰
  - åˆ é™¤

- **Pod ç®¡ç†**ï¼š
  - åˆ—è¡¨æŸ¥çœ‹ï¼ˆçŠ¶æ€ã€IPã€èŠ‚ç‚¹ã€é‡å¯æ¬¡æ•°ï¼‰
  - è¯¦æƒ…æŸ¥çœ‹ï¼ˆYAMLã€å®¹å™¨é…ç½®ï¼‰
  - æ—¥å¿—æŸ¥çœ‹ï¼ˆæ”¯æŒé…ç½®è¡Œæ•°ï¼‰
  - ç»ˆç«¯è¿æ¥ï¼ˆå¼€å‘ä¸­ï¼‰
  - åˆ é™¤

- **Service ç®¡ç†**ï¼š
  - åˆ—è¡¨æŸ¥çœ‹ï¼ˆç±»å‹ã€ç«¯å£ã€ç«¯ç‚¹ï¼‰
  - è¯¦æƒ…æŸ¥çœ‹ï¼ˆYAMLã€ç«¯å£é…ç½®ï¼‰
  - ç«¯ç‚¹æŸ¥çœ‹ï¼ˆNodePortã€ClusterIPï¼‰
  - åˆ é™¤

**ç›‘æ§æŒ‡æ ‡ï¼š**
- é›†ç¾¤çº§åˆ«ï¼šèŠ‚ç‚¹æ€»æ•°ã€Pod æ€»æ•°ã€èµ„æºä½¿ç”¨ç‡
- èŠ‚ç‚¹çº§åˆ«ï¼šCPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨ç‡
- Pod çº§åˆ«ï¼šCPUã€å†…å­˜ä½¿ç”¨ç‡

**æƒé™æ§åˆ¶ï¼š**
- **å…¨å±€æƒé™**ï¼šç®¡ç†æ‰€æœ‰é›†ç¾¤çš„æ‰€æœ‰èµ„æº
- **é›†ç¾¤æƒé™**ï¼šç®¡ç†æŒ‡å®šé›†ç¾¤çš„æ‰€æœ‰èµ„æº
- **å‘½åç©ºé—´æƒé™**ï¼šç®¡ç†æŒ‡å®šé›†ç¾¤çš„æŒ‡å®šå‘½åç©ºé—´èµ„æº

**APIæ¥å£ï¼š**

- `GET /k8s/cluster/list` - è·å–é›†ç¾¤åˆ—è¡¨
- `POST /k8s/cluster/create` - åˆ›å»ºé›†ç¾¤
- `PUT /k8s/cluster/update` - æ›´æ–°é›†ç¾¤
- `DELETE /k8s/cluster/delete` - åˆ é™¤é›†ç¾¤
- `GET /k8s/deployment/list` - è·å– Deployment åˆ—è¡¨
- `GET /k8s/deployment/detail` - è·å– Deployment è¯¦æƒ…
- `POST /k8s/deployment/scale` - æ‰©ç¼©å®¹ Deployment
- `POST /k8s/deployment/restart` - é‡å¯ Deployment
- `GET /k8s/pod/list` - è·å– Pod åˆ—è¡¨
- `GET /k8s/pod/logs` - è·å– Pod æ—¥å¿—
- `GET /k8s/service/list` - è·å– Service åˆ—è¡¨
- `GET /k8s/metrics/cluster` - è·å–é›†ç¾¤æŒ‡æ ‡
- `GET /k8s/metrics/nodes` - è·å–èŠ‚ç‚¹æŒ‡æ ‡
- `GET /k8s/metrics/pods` - è·å– Pod æŒ‡æ ‡

**æŠ€æœ¯å®ç°ï¼š**
- åç«¯æ’ä»¶ï¼š`server/plugin/k8smanager/`
- å‰ç«¯æ’ä»¶ï¼š`web/src/plugin/k8smanager/`
- K8s å®¢æˆ·ç«¯ï¼š`k8s.io/client-go`
- åŠ å¯†ç®—æ³•ï¼šAES-256-GCM
- è¿æ¥æ± ï¼šæ”¯æŒ TTL å’Œè‡ªåŠ¨æ¸…ç†

#### 8. æˆ´å°”ç‰©ç†æœåŠ¡å™¨èµ„äº§ç®¡ç†
æä¾›å®Œæ•´çš„æˆ´å°”ç‰©ç†æœåŠ¡å™¨èµ„äº§å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒæœåŠ¡å™¨ç¡¬ä»¶é…ç½®ã€ç½‘ç»œä¿¡æ¯ã€ç‰©ç†ä½ç½®ã€æ‰€å±éƒ¨é—¨ç­‰å¤šç»´åº¦ç®¡ç†ã€‚

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… å®Œæ•´çš„ç¡¬ä»¶ä¿¡æ¯è®°å½•ï¼ˆCPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘å¡ï¼‰
- âœ… ç‰©ç†ä½ç½®ç®¡ç†ï¼ˆæœºæŸœã€æœºæ¶Uä½ï¼‰
- âœ… æœåŠ¡æ ‡ç­¾ï¼ˆService Tagï¼‰å”¯ä¸€æ ‡è¯†
- âœ… å¤šç»´åº¦æœç´¢è¿‡æ»¤
- âœ… èµ„äº§ç»Ÿè®¡ä»ªè¡¨ç›˜
- âœ… çŠ¶æ€ç®¡ç†ï¼ˆåœ¨çº¿/ç¦»çº¿/ç»´æŠ¤ä¸­ï¼‰
- âœ… ä¿ä¿®æœŸç®¡ç†
- âœ… éƒ¨é—¨/è´Ÿè´£äººå½’å±

**å­—æ®µè¯´æ˜ï¼š**

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| ä¸»æœºå | string | âœ… | æœåŠ¡å™¨åç§° |
| æœåŠ¡æ ‡ç­¾ | string | âœ… | æˆ´å°”å”¯ä¸€æ ‡è¯†ç¬¦ |
| èµ„äº§ç¼–å· | string | | èµ„äº§ç¼–å· |
| å‹å· | string | | æœåŠ¡å™¨å‹å· |
| åºåˆ—å· | string | | åºåˆ—å· |
| CPUå‹å· | string | | CPUå‹å· |
| CPUæ ¸å¿ƒæ•° | int | | CPUæ ¸å¿ƒæ•° |
| CPUçº¿ç¨‹æ•° | int | | CPUçº¿ç¨‹æ•° |
| å†…å­˜å®¹é‡ | int | | å†…å­˜å®¹é‡(GB) |
| ç£ç›˜ä¿¡æ¯ | string | | ç£ç›˜é…ç½®è¯¦æƒ… |
| ç½‘å¡ä¿¡æ¯ | string | | ç½‘å¡é…ç½®è¯¦æƒ… |
| IPåœ°å€ | string | | IPåœ°å€ |
| MACåœ°å€ | string | | MACåœ°å€ |
| æœºæŸœä½ç½® | string | | æœºæŸœç¼–å· |
| æœºæ¶ä½ç½® | string | | Uä½ï¼Œå¦‚U5-U8 |
| ç”µæºçŠ¶æ€ | string | | online/offline |
| è´­ä¹°æ—¥æœŸ | date | | è´­ä¹°æ—¥æœŸ |
| ä¿ä¿®åˆ°æœŸæ—¥ | date | | ä¿ä¿®åˆ°æœŸæ—¥æœŸ |
| æ“ä½œç³»ç»Ÿ | string | | æ“ä½œç³»ç»Ÿç‰ˆæœ¬ |
| æ‰€å±éƒ¨é—¨ | string | | éƒ¨é—¨åç§° |
| è´Ÿè´£äºº | string | | è´Ÿè´£äºº |
| çŠ¶æ€ | string | | online/offline/maintenance |
| å¤‡æ³¨ | text | | å¤‡æ³¨ä¿¡æ¯ |

**å‰ç«¯åŠŸèƒ½ï¼š**
- ç»Ÿè®¡å¡ç‰‡ï¼šæ€»æ•°ã€åœ¨çº¿ã€ç¦»çº¿ã€ç»´æŠ¤ä¸­
- æœç´¢è¿‡æ»¤ï¼šä¸»æœºåã€æœåŠ¡æ ‡ç­¾ã€IPåœ°å€ã€çŠ¶æ€
- å¤šTabè¡¨å•ï¼šåŸºæœ¬ä¿¡æ¯ã€ç¡¬ä»¶é…ç½®ã€ç½‘ç»œä¸ä½ç½®ã€å…¶ä»–ä¿¡æ¯
- è¯¦æƒ…æŸ¥çœ‹ï¼šå®Œæ•´çš„æœåŠ¡å™¨èµ„äº§ä¿¡æ¯å±•ç¤º
- æ‰¹é‡æ“ä½œï¼šå¤šé€‰åˆ é™¤

**APIæ¥å£ï¼š**
- `POST /dellAsset/createDellAsset` - åˆ›å»ºèµ„äº§
- `DELETE /dellAsset/deleteDellAsset` - åˆ é™¤èµ„äº§
- `DELETE /dellAsset/deleteDellAssetByIds` - æ‰¹é‡åˆ é™¤
- `PUT /dellAsset/updateDellAsset` - æ›´æ–°èµ„äº§
- `GET /dellAsset/findDellAsset` - æŸ¥è¯¢å•ä¸ªèµ„äº§
- `GET /dellAsset/getDellAssetList` - è·å–èµ„äº§åˆ—è¡¨
- `GET /dellAsset/getStatistics` - è·å–ç»Ÿè®¡ä¿¡æ¯

**æŠ€æœ¯å®ç°ï¼š**
- åç«¯æ’ä»¶ï¼š`server/plugin/dellasset/`
- å‰ç«¯æ’ä»¶ï¼š`web/src/plugin/dellasset/`
- æ•°æ®è¡¨ï¼š`gva_dell_asset`
- åˆå§‹åŒ–SQLï¼š`dellasset_install.sql`

#### 9. AI Agent æ™ºèƒ½åŠ©æ‰‹
é›†æˆæ™ºè°± GLM-4.7 æ¨¡å‹ï¼Œæä¾›æ™ºèƒ½å¯¹è¯å’Œ AI è¾…åŠ©åŠŸèƒ½ï¼Œæ”¯æŒå¤šä¼šè¯ç®¡ç†ã€å®æ—¶å¯¹è¯å’Œå®Œæ•´çš„ä¼šè¯å†å²è®°å½•ã€‚

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… å¤šä¼šè¯ç®¡ç†ï¼šåˆ›å»ºã€åˆ‡æ¢ã€åˆ é™¤å¯¹è¯ä¼šè¯
- âœ… å®æ—¶å¯¹è¯ï¼šä¸ AI è¿›è¡Œå®æ—¶äº¤æµï¼Œæ”¯æŒä¸Šä¸‹æ–‡ç†è§£
- âœ… ä¼šè¯å†å²ï¼šå®Œæ•´çš„å¯¹è¯å†å²è®°å½•ï¼Œéšæ—¶æŸ¥çœ‹
- âœ… æ¨¡å‹é…ç½®ï¼šæ”¯æŒ GLM-4-Plusã€GLM-4-Airã€GLM-4-Flashã€GLM-3-Turbo
- âœ… å‚æ•°è°ƒæ•´ï¼šæ”¯æŒæ¸©åº¦ã€æœ€å¤§Tokenæ•°ç­‰å‚æ•°é…ç½®
- âœ… Token ç»Ÿè®¡ï¼šå®æ—¶æ˜¾ç¤º Token ä½¿ç”¨æƒ…å†µ
- âœ… API Key ç®¡ç†ï¼šå®‰å…¨å­˜å‚¨å’Œç®¡ç†æ™ºè°± AI çš„ API Key
- âœ… å¤šé…ç½®æ”¯æŒï¼šæ”¯æŒå¤šä¸ª AI é…ç½®ï¼Œå¯çµæ´»åˆ‡æ¢

**æ•°æ®æ¨¡å‹ï¼š**

**ä¼šè¯è¡¨ (gva_aiagent_conversations)**

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| æ ‡é¢˜ | string | âœ… | ä¼šè¯æ ‡é¢˜ |
| ç”¨æˆ·ID | int | | æ‰€å±ç”¨æˆ· |
| æ¨¡å‹ | string | âœ… | ä½¿ç”¨çš„æ¨¡å‹ï¼ˆé»˜è®¤glm-4-plusï¼‰ |
| ç³»ç»Ÿæç¤ºè¯ | text | | ç³»ç»Ÿæç¤ºè¯ |
| æ¸©åº¦ | double | | æ¸©åº¦å‚æ•°ï¼ˆé»˜è®¤0.7ï¼‰ |
| æœ€å¤§Tokenæ•° | int | | æœ€å¤§tokenæ•°ï¼ˆé»˜è®¤4096ï¼‰ |
| æ˜¯å¦æ¿€æ´» | bool | âœ… | æ˜¯å¦æ¿€æ´» |

**æ¶ˆæ¯è¡¨ (gva_aiagent_messages)**

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| ä¼šè¯ID | int | âœ… | æ‰€å±ä¼šè¯ |
| è§’è‰² | string | âœ… | è§’è‰²ï¼ˆuser/assistant/systemï¼‰ |
| å†…å®¹ | text | âœ… | æ¶ˆæ¯å†…å®¹ |
| Tokenæ•°é‡ | int | | Tokenç»Ÿè®¡ |
| å…ƒæ•°æ® | json | | å…ƒæ•°æ®ï¼ˆfinish_reasonç­‰ï¼‰ |

**é…ç½®è¡¨ (gva_aiagent_configs)**

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| é…ç½®åç§° | string | âœ… | é…ç½®åç§°ï¼ˆå”¯ä¸€ï¼‰ |
| API Key | string | âœ… | æ™ºè°±AIçš„API Key |
| APIåœ°å€ | string | âœ… | APIåŸºç¡€URL |
| é»˜è®¤æ¨¡å‹ | string | âœ… | é»˜è®¤æ¨¡å‹ |
| é»˜è®¤æ¸©åº¦ | double | âœ… | é»˜è®¤æ¸©åº¦å‚æ•° |
| é»˜è®¤Tokenæ•° | int | âœ… | é»˜è®¤æœ€å¤§Tokenæ•° |
| æ˜¯å¦å¯ç”¨ | bool | âœ… | æ˜¯å¦æ¿€æ´» |

**å‰ç«¯åŠŸèƒ½ï¼š**

**AI å¯¹è¯é¡µé¢ï¼š**
- ä¾§è¾¹æ ä¼šè¯åˆ—è¡¨ï¼Œæ˜¾ç¤ºæ‰€æœ‰å†å²å¯¹è¯
- æ”¯æŒåˆ›å»ºæ–°å¯¹è¯ã€åˆ é™¤å¯¹è¯
- æ¶ˆæ¯åˆ—è¡¨å±•ç¤ºï¼ŒåŒºåˆ†ç”¨æˆ·å’ŒAIæ¶ˆæ¯
- å®æ—¶è¾“å…¥æ¡†ï¼Œæ”¯æŒ Ctrl+Enter å¿«æ·å‘é€
- è‡ªåŠ¨æ»šåŠ¨åˆ°æœ€æ–°æ¶ˆæ¯
- æ˜¾ç¤º Token ä½¿ç”¨ç»Ÿè®¡

**AI é…ç½®é¡µé¢ï¼š**
- é…ç½®åˆ—è¡¨å±•ç¤ºï¼Œæ”¯æŒå¯ç”¨çŠ¶æ€æ˜¾ç¤º
- æ–°å¢/ç¼–è¾‘/åˆ é™¤é…ç½®
- API Key å®‰å…¨æ˜¾ç¤ºï¼ˆè„±æ•å¤„ç†ï¼‰
- æ¨¡å‹é€‰æ‹©ï¼ˆGLM-4-Plus/Air/Flashã€GLM-3-Turboï¼‰
- æ¸©åº¦å‚æ•°æ»‘å—é…ç½®
- æœ€å¤§Tokenæ•°é…ç½®

**APIæ¥å£ï¼š**

- `POST /chat/sendMessage` - å‘é€æ¶ˆæ¯å¹¶è·å–AIå›å¤
- `POST /conversation/createConversation` - åˆ›å»ºä¼šè¯
- `DELETE /conversation/deleteConversation` - åˆ é™¤ä¼šè¯
- `PUT /conversation/updateConversation` - æ›´æ–°ä¼šè¯
- `GET /conversation/findConversation` - æŸ¥è¯¢å•ä¸ªä¼šè¯
- `GET /conversation/getConversationList` - è·å–ä¼šè¯åˆ—è¡¨
- `POST /conversation/setActive` - è®¾ç½®ä¼šè¯æ¿€æ´»çŠ¶æ€
- `GET /conversation/getActive` - è·å–æ¿€æ´»çš„ä¼šè¯
- `GET /message/getMessageList` - è·å–æ¶ˆæ¯åˆ—è¡¨
- `DELETE /message/deleteMessage` - åˆ é™¤æ¶ˆæ¯
- `POST /config/createConfig` - åˆ›å»ºAIé…ç½®
- `DELETE /config/deleteConfig` - åˆ é™¤AIé…ç½®
- `PUT /config/updateConfig` - æ›´æ–°AIé…ç½®
- `GET /config/findConfig` - æŸ¥è¯¢å•ä¸ªé…ç½®
- `GET /config/getConfigList` - è·å–é…ç½®åˆ—è¡¨
- `POST /config/setActive` - è®¾ç½®é…ç½®æ¿€æ´»çŠ¶æ€
- `GET /config/getActive` - è·å–æ¿€æ´»çš„é…ç½®

**ä½¿ç”¨è¯´æ˜ï¼š**

1. **è·å– API Key**
   - è®¿é—® [æ™ºè°±AIå¼€æ”¾å¹³å°](https://open.bigmodel.cn/)
   - æ³¨å†Œå¹¶ç™»å½•è´¦å·
   - åœ¨æ§åˆ¶å°è·å– API Key

2. **é…ç½® AI**
   - è¿›å…¥ã€AI Agentã€‘->ã€AI é…ç½®ã€‘
   - ç‚¹å‡»"æ–°å»ºé…ç½®"
   - å¡«å†™é…ç½®ä¿¡æ¯å¹¶ä¿å­˜
   - ç‚¹å‡»"å¯ç”¨"æŒ‰é’®æ¿€æ´»é…ç½®

3. **å¼€å§‹å¯¹è¯**
   - è¿›å…¥ã€AI Agentã€‘->ã€AI å¯¹è¯ã€‘
   - ç‚¹å‡»"æ–°å»ºå¯¹è¯"
   - è¾“å…¥æ¶ˆæ¯å¹¶å‘é€
   - AI å°†å®æ—¶å›å¤

**æŠ€æœ¯å®ç°ï¼š**
- åç«¯æ’ä»¶ï¼š`server/plugin/aiagent/`
- å‰ç«¯æ’ä»¶ï¼š`web/src/plugin/aiagent/`
- æ•°æ®è¡¨ï¼š`gva_aiagent_conversations`ã€`gva_aiagent_messages`ã€`gva_aiagent_configs`
- åˆå§‹åŒ–SQLï¼š`aiagent_install.sql`
- æ¨¡å‹ï¼šæ™ºè°± GLM-4.7 ç³»åˆ—

#### 10. æ¨¡å‹å¾®è°ƒä»»åŠ¡ç®¡ç†
æä¾›å®Œæ•´çš„ AI å¤§æ¨¡å‹å¾®è°ƒä»»åŠ¡ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒ LLaMAã€ChatGLM ç­‰ä¸»æµå¤§è¯­è¨€æ¨¡å‹çš„å¾®è°ƒè®­ç»ƒæµç¨‹æ§åˆ¶ã€‚

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… ä»»åŠ¡å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼šåˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤å¾®è°ƒä»»åŠ¡
- âœ… å®æ—¶ä»»åŠ¡ç›‘æ§ï¼šä»»åŠ¡çŠ¶æ€ã€è¿›åº¦ã€æ—¥å¿—å®æ—¶æŸ¥çœ‹
- âœ… GPUé…ç½®ç®¡ç†ï¼šæ”¯æŒCUDAè®¾å¤‡é€‰æ‹©å’Œå¤šå¡å¹¶è¡Œè®­ç»ƒ
- âœ… è®­ç»ƒå‚æ•°é…ç½®ï¼šå­¦ä¹ ç‡ã€æ‰¹æ¬¡å¤§å°ã€è®­ç»ƒè½®æ•°ã€é¢„çƒ­æ­¥æ•°ç­‰
- âœ… é¢„è®¾é…ç½®æ¨¡æ¿ï¼šå¿«é€Ÿæµ‹è¯•ã€æ ‡å‡†è®­ç»ƒã€å®Œæ•´å¾®è°ƒä¸‰ç§é¢„è®¾
- âœ… è‡ªå®šä¹‰å‘½ä»¤æ”¯æŒï¼šæ”¯æŒä½¿ç”¨è‡ªå®šä¹‰è®­ç»ƒè„šæœ¬
- âœ… ç»Ÿè®¡ä¿¡æ¯å±•ç¤ºï¼šæ€»æ•°ã€è¿è¡Œä¸­ã€å·²å®Œæˆã€å¤±è´¥ä»»åŠ¡ç»Ÿè®¡
- âœ… è‡ªåŠ¨ä»»åŠ¡åˆ·æ–°ï¼šæ¯10ç§’è‡ªåŠ¨æ›´æ–°ä»»åŠ¡çŠ¶æ€å’Œè¿›åº¦
- âœ… æ—¥å¿—æ–‡ä»¶ç®¡ç†ï¼šè‡ªåŠ¨è®°å½•è®­ç»ƒæ—¥å¿—ï¼Œæ”¯æŒæ—¥å¿—æŸ¥çœ‹

**ä»»åŠ¡çŠ¶æ€ï¼š**
- `pending`ï¼šå¾…æ‰§è¡Œ
- `running`ï¼šæ‰§è¡Œä¸­
- `completed`ï¼šå·²å®Œæˆ
- `failed`ï¼šå¤±è´¥
- `stopped`ï¼šå·²åœæ­¢

**æ•°æ®æ¨¡å‹ï¼š**

**ä»»åŠ¡è¡¨ (gva_finetuning_tasks)**

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| ä»»åŠ¡åç§° | string | âœ… | ä»»åŠ¡åç§° |
| ä»»åŠ¡æè¿° | string | | ä»»åŠ¡æè¿° |
| æ‰€å±ç”¨æˆ· | int | | ç”¨æˆ·ID |
| ä»»åŠ¡çŠ¶æ€ | string | âœ… | pending/running/completed/failed/stopped |
| ä»»åŠ¡è¿›åº¦ | float64 | | 0-100 |
| åŸºç¡€æ¨¡å‹ | string | âœ… | åŸºç¡€æ¨¡å‹è·¯å¾„æˆ–åç§° |
| æ•°æ®é›†è·¯å¾„ | string | âœ… | æ•°æ®é›†è·¯å¾„ |
| è¾“å‡ºè·¯å¾„ | string | | è¾“å‡ºæ¨¡å‹è·¯å¾„ |
| è®­ç»ƒå‚æ•° | json | | è®­ç»ƒå‚æ•°JSONé…ç½® |
| GPUé…ç½® | json | | GPUé…ç½®ï¼ˆå¦‚CUDA_VISIBLE_DEVICESï¼‰ |
| æ‰§è¡Œå‘½ä»¤ | text | | å®Œæ•´çš„è®­ç»ƒå‘½ä»¤ |
| æ—¥å¿—æ–‡ä»¶è·¯å¾„ | string | | æ—¥å¿—æ–‡ä»¶è·¯å¾„ |
| é”™è¯¯ä¿¡æ¯ | text | | é”™è¯¯ä¿¡æ¯ |
| å¼€å§‹æ—¶é—´ | int64 | | å¼€å§‹æ—¶é—´æˆ³ |
| ç»“æŸæ—¶é—´ | int64 | | ç»“æŸæ—¶é—´æˆ³ |
| è¿›ç¨‹ID | int | | è®­ç»ƒè¿›ç¨‹ID |
| è®­ç»ƒæŒ‡æ ‡ | json | | è®­ç»ƒæŒ‡æ ‡ï¼ˆlossã€accuracyç­‰ï¼‰ |

**è®­ç»ƒå‚æ•°é…ç½®ï¼š**

| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| learning_rate | float64 | å­¦ä¹ ç‡ï¼ˆå¸¸ç”¨ï¼š1e-4 åˆ° 1e-5ï¼‰ |
| batch_size | int | æ‰¹æ¬¡å¤§å°ï¼ˆæ ¹æ®GPUæ˜¾å­˜è°ƒæ•´ï¼‰ |
| num_train_epochs | int | è®­ç»ƒè½®æ•° |
| max_steps | int | æœ€å¤§æ­¥æ•°ï¼ˆ-1è¡¨ç¤ºä¸é™åˆ¶ï¼‰ |
| warmup_steps | int | é¢„çƒ­æ­¥æ•° |
| logging_steps | int | æ—¥å¿—è®°å½•é—´éš” |
| save_steps | int | æ¨¡å‹ä¿å­˜é—´éš” |

**é¢„è®¾é…ç½®æ¨¡æ¿ï¼š**

1. **å¿«é€Ÿæµ‹è¯• (quick_test)**
   - å­¦ä¹ ç‡ï¼š0.0001
   - æ‰¹æ¬¡å¤§å°ï¼š16
   - è®­ç»ƒè½®æ•°ï¼š1
   - æœ€å¤§æ­¥æ•°ï¼š100
   - é€‚ç”¨åœºæ™¯ï¼šå¿«é€ŸéªŒè¯é…ç½®å’Œä»£ç 

2. **æ ‡å‡†è®­ç»ƒ (standard)**
   - å­¦ä¹ ç‡ï¼š0.0002
   - æ‰¹æ¬¡å¤§å°ï¼š32
   - è®­ç»ƒè½®æ•°ï¼š3
   - æœ€å¤§æ­¥æ•°ï¼š-1
   - é€‚ç”¨åœºæ™¯ï¼šæ—¥å¸¸æ¨¡å‹å¾®è°ƒ

3. **å®Œæ•´å¾®è°ƒ (full_finetune)**
   - å­¦ä¹ ç‡ï¼š0.00005
   - æ‰¹æ¬¡å¤§å°ï¼š64
   - è®­ç»ƒè½®æ•°ï¼š10
   - æœ€å¤§æ­¥æ•°ï¼š-1
   - é€‚ç”¨åœºæ™¯ï¼šç”Ÿäº§çº§æ¨¡å‹å¾®è°ƒ

**å‰ç«¯åŠŸèƒ½ï¼š**

**ä»»åŠ¡åˆ—è¡¨é¡µé¢ï¼š**
- ç»Ÿè®¡å¡ç‰‡ï¼šæ˜¾ç¤ºæ€»ä»»åŠ¡æ•°ã€è¿è¡Œä¸­ã€å·²å®Œæˆã€å¤±è´¥æ•°é‡
- æœç´¢è¿‡æ»¤ï¼šä»»åŠ¡åç§°ã€ä»»åŠ¡çŠ¶æ€ã€åŸºç¡€æ¨¡å‹
- ä»»åŠ¡åˆ—è¡¨ï¼šå±•ç¤ºæ‰€æœ‰å¾®è°ƒä»»åŠ¡
  - ä»»åŠ¡ä¿¡æ¯ï¼šåç§°ã€åŸºç¡€æ¨¡å‹ã€çŠ¶æ€ã€è¿›åº¦ã€åˆ›å»ºæ—¶é—´
  - çŠ¶æ€æ ‡ç­¾ï¼šå¾…æ‰§è¡Œ(ç°)ã€æ‰§è¡Œä¸­(è“)ã€å·²å®Œæˆ(ç»¿)ã€å¤±è´¥(çº¢)ã€å·²åœæ­¢(æ©™)
  - è¿›åº¦æ¡ï¼šå®æ—¶æ˜¾ç¤ºè®­ç»ƒè¿›åº¦
  - æ“ä½œæŒ‰é’®ï¼šè¯¦æƒ…ã€åœæ­¢(è¿è¡Œä¸­)ã€åˆ é™¤
- æ‰¹é‡æ“ä½œï¼šæ‰¹é‡åˆ é™¤ä»»åŠ¡
- è‡ªåŠ¨åˆ·æ–°ï¼šæ¯10ç§’è‡ªåŠ¨æ›´æ–°ä»»åŠ¡çŠ¶æ€

**åˆ›å»ºä»»åŠ¡å¯¹è¯æ¡†ï¼š**
- **åŸºæœ¬ä¿¡æ¯æ ‡ç­¾é¡µ**ï¼š
  - ä»»åŠ¡åç§°ã€ä»»åŠ¡æè¿°
  - åŸºç¡€æ¨¡å‹ï¼šæ”¯æŒæœ¬åœ°è·¯å¾„æˆ–HuggingFaceæ¨¡å‹åç§°
  - æ•°æ®é›†è·¯å¾„
  - è¾“å‡ºè·¯å¾„ï¼ˆå¯é€‰ï¼‰
- **GPUé…ç½®æ ‡ç­¾é¡µ**ï¼š
  - CUDAè®¾å¤‡é€‰æ‹©ï¼šæ”¯æŒ"0,1"æˆ–"0-2"æ ¼å¼
- **è®­ç»ƒå‚æ•°æ ‡ç­¾é¡µ**ï¼š
  - é…ç½®é¢„è®¾é€‰æ‹©ï¼šå¿«é€Ÿæµ‹è¯•ã€æ ‡å‡†è®­ç»ƒã€å®Œæ•´å¾®è°ƒã€è‡ªå®šä¹‰
  - å­¦ä¹ ç‡é…ç½®ï¼šæ”¯æŒ0-1èŒƒå›´ï¼Œç²¾åº¦åˆ°å°æ•°ç‚¹å5ä½
  - æ‰¹æ¬¡å¤§å°é…ç½®ï¼š1-1024
  - è®­ç»ƒè½®æ•°é…ç½®ï¼š1-100
  - æœ€å¤§æ­¥æ•°é…ç½®ï¼š-1è¡¨ç¤ºä¸é™åˆ¶
  - é¢„çƒ­æ­¥æ•°é…ç½®
  - æ—¥å¿—é—´éš”é…ç½®
  - ä¿å­˜é—´éš”é…ç½®
- **é«˜çº§è®¾ç½®æ ‡ç­¾é¡µ**ï¼š
  - è‡ªå®šä¹‰å‘½ä»¤è¾“å…¥ï¼ˆå¯é€‰ï¼‰
  - è‡ªå®šä¹‰å‘½ä»¤å°†è¦†ç›–æ‰€æœ‰å‚æ•°é…ç½®

**ä»»åŠ¡è¯¦æƒ…é¡µé¢ï¼š**
- ä»»åŠ¡åŸºæœ¬ä¿¡æ¯å±•ç¤º
- è®­ç»ƒå‚æ•°è¯¦æƒ…
- GPUé…ç½®ä¿¡æ¯
- å®æ—¶ä»»åŠ¡è¿›åº¦
- è®­ç»ƒæ—¥å¿—æŸ¥çœ‹ï¼ˆæ”¯æŒè¡Œæ•°å’Œåç§»é‡æ§åˆ¶ï¼‰
- ä»»åŠ¡æ“ä½œï¼šåœæ­¢ã€åˆ é™¤

**APIæ¥å£ï¼š**

- `POST /finetuning/createFinetuningTask` - åˆ›å»ºå¾®è°ƒä»»åŠ¡
- `DELETE /finetuning/deleteFinetuningTask` - åˆ é™¤ä»»åŠ¡
- `PUT /finetuning/updateFinetuningTask` - æ›´æ–°ä»»åŠ¡
- `GET /finetuning/findFinetuningTask` - è·å–ä»»åŠ¡è¯¦æƒ…
- `GET /finetuning/getFinetuningTaskList` - è·å–ä»»åŠ¡åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰
- `POST /finetuning/stopFinetuningTask` - åœæ­¢ä»»åŠ¡
- `GET /finetuning/getTaskLog` - è·å–ä»»åŠ¡æ—¥å¿—

**ä½¿ç”¨è¯´æ˜ï¼š**

1. **å‡†å¤‡ç¯å¢ƒ**
   - ç¡®ä¿æœåŠ¡å™¨å·²å®‰è£… Python å’Œ PyTorch
   - å‡†å¤‡åŸºç¡€æ¨¡å‹ï¼ˆæ”¯æŒæœ¬åœ°è·¯å¾„æˆ–HuggingFaceæ¨¡å‹ï¼‰
   - å‡†å¤‡è®­ç»ƒæ•°æ®é›†

2. **åˆ›å»ºå¾®è°ƒä»»åŠ¡**
   - è¿›å…¥ã€æ¨¡å‹å¾®è°ƒã€‘->ã€ä»»åŠ¡åˆ—è¡¨ã€‘
   - ç‚¹å‡»"æ–°å»ºä»»åŠ¡"
   - å¡«å†™åŸºæœ¬ä¿¡æ¯ï¼ˆä»»åŠ¡åç§°ã€åŸºç¡€æ¨¡å‹ã€æ•°æ®é›†è·¯å¾„ï¼‰
   - é…ç½®GPUè®¾å¤‡
   - é€‰æ‹©è®­ç»ƒé¢„è®¾æˆ–è‡ªå®šä¹‰å‚æ•°
   - ç‚¹å‡»"ç¡®å®š"åˆ›å»ºä»»åŠ¡

3. **ç›‘æ§è®­ç»ƒè¿›åº¦**
   - ä»»åŠ¡åˆ—è¡¨å®æ—¶æ˜¾ç¤ºè®­ç»ƒçŠ¶æ€å’Œè¿›åº¦
   - ç‚¹å‡»"è¯¦æƒ…"æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
   - åœ¨è¯¦æƒ…é¡µé¢æŸ¥çœ‹è®­ç»ƒæ—¥å¿—
   - è¿›åº¦æ¡å®æ—¶æ›´æ–°è®­ç»ƒè¿›åº¦

4. **ç®¡ç†ä»»åŠ¡**
   - åœæ­¢ä»»åŠ¡ï¼šç‚¹å‡»"åœæ­¢"æŒ‰é’®ï¼ˆä»…è¿è¡Œä¸­ä»»åŠ¡ï¼‰
   - åˆ é™¤ä»»åŠ¡ï¼šç‚¹å‡»"åˆ é™¤"æŒ‰é’®
   - æ‰¹é‡åˆ é™¤ï¼šé€‰ä¸­å¤šä¸ªä»»åŠ¡åæ‰¹é‡åˆ é™¤

**æŠ€æœ¯å®ç°ï¼š**
- åç«¯æ’ä»¶ï¼š`server/plugin/finetuning/`
- å‰ç«¯æ’ä»¶ï¼š`web/src/plugin/finetuning/`
- æ•°æ®è¡¨ï¼š`gva_finetuning_tasks`
- åˆå§‹åŒ–SQLï¼š`finetuning_install.sql`
- è¿›ç¨‹ç®¡ç†ï¼šä½¿ç”¨ `os/exec` æ‰§è¡Œè®­ç»ƒè„šæœ¬
- æ—¥å¿—ç®¡ç†ï¼šè‡ªåŠ¨è®°å½•è®­ç»ƒæ—¥å¿—åˆ°æ–‡ä»¶
- çŠ¶æ€åŒæ­¥ï¼šå®šæ—¶æ£€æŸ¥è¿›ç¨‹çŠ¶æ€å¹¶æ›´æ–°æ•°æ®åº“

### æŠ€æœ¯æ ˆ

**åç«¯æŠ€æœ¯ï¼š**
- **æ¡†æ¶**: Gin (Go Webæ¡†æ¶)
- **ORM**: GORM (Go ORMåº“)
- **è¯­è¨€**: Go 1.23+
- **SSHæœåŠ¡**: golang.org/x/crypto/ssh
- **Dockerå®¢æˆ·ç«¯**: Docker API (github.com/docker/docker)
- **K8så®¢æˆ·ç«¯**: client-go (k8s.io/client-go)
- **åŠ å¯†**: AES-256-GCM
- **å®šæ—¶ä»»åŠ¡**: gcron (github.com/gogf/gf/v2/os/gcron)
- **æ—¥å¿—**: Zap (é«˜æ€§èƒ½æ—¥å¿—åº“)
- **é…ç½®ç®¡ç†**: Viper

**å‰ç«¯æŠ€æœ¯ï¼š**
- **æ¡†æ¶**: Vue 3
- **UIç»„ä»¶**: Element Plus
- **æ„å»ºå·¥å…·**: Vite
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±**: Vue Router

**æ•°æ®åº“ï¼š**
- **ä¸»æ•°æ®åº“**: MySQL
- **æ”¯æŒ**: PostgreSQL, SQLite, MSSQL, Oracle (é€šè¿‡GORM)

**å®¹å™¨æŠ€æœ¯ï¼š**
- **å®¹å™¨å¼•æ“**: Docker
- **æ”¯æŒ**: Docker TLS å®‰å…¨è¿æ¥
- **å®¹å™¨æ“ä½œ**: åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€é‡å¯ã€åˆ é™¤ã€æ—¥å¿—æŸ¥çœ‹ã€ç»ˆç«¯è¿æ¥
- **æ˜¾å­˜åˆ‡åˆ†**: æ”¯æŒHAMiæ˜¾å­˜åˆ‡åˆ†ï¼Œé€šè¿‡ç¯å¢ƒå˜é‡å’Œå·æŒ‚è½½å®ç°GPUæ˜¾å­˜è™šæ‹ŸåŒ–

### ğŸ“¦ éƒ¨ç½²æŒ‡å—

#### ç¯å¢ƒè¦æ±‚

**åç«¯ç¯å¢ƒï¼š**
- Go 1.23+ 
- MySQL 5.7+ / PostgreSQL / SQLite / MSSQL / Oracle
- Redisï¼ˆå¯é€‰ï¼Œç”¨äºç¼“å­˜å’Œä¼šè¯ç®¡ç†ï¼‰
- Dockerï¼ˆç”¨äºç®¡ç†GPUå®¹å™¨ï¼‰

**å‰ç«¯ç¯å¢ƒï¼š**
- Node.js 20+
- npm æˆ– pnpm

#### æ–¹å¼ä¸€ï¼šæœ¬åœ°å¼€å‘éƒ¨ç½²

##### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/hequan2017/docker-gpu-manage
cd docker-gpu-manage
\mv server/config.yaml.bak  server/config.yaml
```

##### 2. é…ç½®æ•°æ®åº“

ç³»ç»Ÿä¼šé€šè¿‡Webç•Œé¢å¼•å¯¼åˆå§‹åŒ–ã€‚

##### 3. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd server

# å®‰è£…ä¾èµ–
go mod download

# å¯åŠ¨æœåŠ¡
go run main.go
```

```json
#æ·»åŠ mcp
{
  "mcpServers": {
    "GVA Helper": {
      "url": "http://127.0.0.1:8890/sse"
    }
  }
}
```

åç«¯æœåŠ¡é»˜è®¤è¿è¡Œåœ¨ `http://localhost:8890`

##### å¼€å‘è°ƒè¯•ï¼ˆå¯é€‰ï¼‰

- åç«¯çƒ­é‡è½½ï¼ˆgowatchï¼‰ï¼š
  ```bash
  go install github.com/silenceper/gowatch@latest
  cd server && gowatch
  ```
- å¸¸ç”¨åœ°å€é€ŸæŸ¥ï¼š
  - Swagger: http://127.0.0.1:8890/swagger/index.html
  - SSE: http://127.0.0.1:8890/sse
  - Message: http://127.0.0.1:8890/message
  - Web: http://127.0.0.1:8080


##### 4. åˆå§‹åŒ–æ•°æ®åº“

**æ–¹æ³•ä¸€ï¼šé€šè¿‡Webç•Œé¢åˆå§‹åŒ–ï¼ˆæ¨èï¼‰**

1. å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆè§æ­¥éª¤5ï¼‰
2. è®¿é—® `http://localhost:8080`
3. ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹æ•°æ®åº“æ˜¯å¦å·²åˆå§‹åŒ–
4. å¦‚æœæœªåˆå§‹åŒ–ï¼Œä¼šè·³è½¬åˆ°æ•°æ®åº“åˆå§‹åŒ–é¡µé¢
5. å¡«å†™æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼š
   - æ•°æ®åº“ç±»å‹ï¼ˆMySQL/PostgreSQL/SQLite/MSSQL/Oracleï¼‰
   - æ•°æ®åº“åœ°å€å’Œç«¯å£
   - æ•°æ®åº“åç§°ï¼ˆå¦‚æœä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰
   - ç”¨æˆ·åå’Œå¯†ç 
6. ç‚¹å‡»"åˆå§‹åŒ–"æŒ‰é’®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“å’Œæ‰€æœ‰è¡¨ç»“æ„
7. åˆå§‹åŒ–å®Œæˆåï¼Œä¼šè‡ªåŠ¨åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼ˆç”¨æˆ·åï¼š`admin`ï¼Œå¯†ç ï¼š`123456`ï¼‰

**æ–¹æ³•äºŒï¼šæ‰‹åŠ¨åˆå§‹åŒ–**

å¦‚æœæ•°æ®åº“å·²å­˜åœ¨ï¼Œç³»ç»Ÿä¼šåœ¨å¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œæ•°æ®åº“è¿ç§»ï¼Œåˆ›å»ºæ‰€æœ‰å¿…è¦çš„è¡¨ç»“æ„ã€‚

##### 4.5 æ’ä»¶åˆå§‹åŒ–SQLï¼ˆå¯é€‰ï¼‰

ç³»ç»Ÿå·²é›†æˆæ’ä»¶åˆå§‹åŒ–åŠŸèƒ½ï¼Œå¤§éƒ¨åˆ†æ’ä»¶ä¼šåœ¨é¦–æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨åˆå§‹åŒ–ã€‚å¦‚æœéœ€è¦æ‰‹åŠ¨åˆå§‹åŒ–æ’ä»¶ï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹SQLæ–‡ä»¶ï¼š

- **AI Agent æ™ºèƒ½åŠ©æ‰‹**ï¼š`server/plugin/aiagent/aiagent_install.sql`
- **K8s é›†ç¾¤ç®¡ç†**ï¼š`server/plugin/k8smanager/k8s_install.sql`
- **æˆ´å°”èµ„äº§ç®¡ç†**ï¼š`server/plugin/dellasset/dellasset_install.sql`
- **ç®—æ³•å¾®è°ƒ**ï¼š`server/plugin/finetuning/finetuning_install.sql`
- **ç«¯å£è½¬å‘**ï¼š`server/plugin/portforward/portforward_install.sql`

æ‰§è¡Œæ–¹å¼ï¼š
```bash
# è¿›å…¥æ•°æ®åº“
mysql -u ç”¨æˆ·å -p æ•°æ®åº“å

# æ‰§è¡Œåˆå§‹åŒ–SQL
source server/plugin/aiagent/aiagent_install.sql
source server/plugin/finetuning/finetuning_install.sql
```

**æ³¨æ„**ï¼šè¿™äº›SQLæ–‡ä»¶åŒ…å«äº†æ•°æ®è¡¨åˆ›å»ºã€èœå•é…ç½®ã€APIæ³¨å†Œå’Œæƒé™è®¾ç½®ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸éœ€è¦æ‰‹åŠ¨æ‰§è¡Œã€‚

##### 5. æ˜¾å­˜åˆ‡å‰²é•œåƒåˆ¶ä½œï¼ˆå¯é€‰ï¼‰

å¦‚éœ€ä½¿ç”¨HAMiæ˜¾å­˜åˆ‡åˆ†åŠŸèƒ½ï¼Œéœ€è¦å…ˆåˆ¶ä½œæ˜¾å­˜åˆ‡åˆ†é•œåƒï¼š

1. å‚è€ƒHAMié¡¹ç›®åœ¨DockeræœåŠ¡å™¨ä¸Šéƒ¨ç½²ï¼š
```bash
git clone https://github.com/Project-HAMi/HAMi-core
```

2. åˆ¶ä½œå®Œæˆåï¼Œå°†å¯¹åº”çš„DockeræœåŠ¡å™¨å®é™…çš„HAMi-coreç›®å½•è·¯å¾„å¡«åˆ°ç®—åŠ›èŠ‚ç‚¹çš„"HAMi-coreç›®å½•"å­—æ®µä¸­ã€‚

##### 6. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
cd web

# å®‰è£…ä¾èµ–
npm install
# æˆ–ä½¿ç”¨ pnpm
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
# æˆ–
pnpm dev
```

å‰ç«¯æœåŠ¡é»˜è®¤è¿è¡Œåœ¨ `http://localhost:8080`

##### 7. è®¿é—®ç³»ç»Ÿ

- å‰ç«¯åœ°å€ï¼š`http://localhost:8080`
- åç«¯APIï¼š`http://localhost:8890`
- Swaggeræ–‡æ¡£ï¼š`http://localhost:8890/swagger/index.html`

**é»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼š**
- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`123456`

**é¦–æ¬¡ç™»å½•åè¯·åŠæ—¶ä¿®æ”¹å¯†ç ï¼**

#### æ–¹å¼äºŒï¼šDocker éƒ¨ç½²

##### 1. ä½¿ç”¨ Docker Compose ä¸€é”®éƒ¨ç½²

```bash
cd deploy/docker-compose

# ä¿®æ”¹ docker-compose.yaml ä¸­çš„æ•°æ®åº“é…ç½®ï¼ˆå¯é€‰ï¼‰
# é»˜è®¤é…ç½®ï¼š
# - MySQL ç«¯å£ï¼š13306
# - Redis ç«¯å£ï¼š16379
# - åç«¯æœåŠ¡ç«¯å£ï¼š8890
# - å‰ç«¯æœåŠ¡ç«¯å£ï¼š8080

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

##### 2. åˆå§‹åŒ–æ•°æ®åº“

1. ç­‰å¾…æ‰€æœ‰å®¹å™¨å¯åŠ¨å®Œæˆï¼ˆçº¦1-2åˆ†é’Ÿï¼‰
2. è®¿é—® `http://localhost:8080`
3. æŒ‰ç…§Webç•Œé¢æç¤ºå®Œæˆæ•°æ®åº“åˆå§‹åŒ–

##### 3. è®¿é—®ç³»ç»Ÿ

- å‰ç«¯åœ°å€ï¼š`http://localhost:8080`
- åç«¯APIï¼š`http://localhost:8890`
- MySQLï¼š`localhost:13306`
- Redisï¼š`localhost:16379`

##### 4. åœæ­¢æœåŠ¡

```bash
cd deploy/docker-compose
docker-compose down

# å¦‚éœ€åˆ é™¤æ•°æ®å·ï¼ˆä¼šæ¸…ç©ºæ•°æ®åº“ï¼‰
docker-compose down -v
```

#### æ–¹å¼ä¸‰ï¼šKubernetes éƒ¨ç½²

é¡¹ç›®æä¾›äº† Kubernetes éƒ¨ç½²é…ç½®æ–‡ä»¶ï¼Œä½äº `deploy/kubernetes/` ç›®å½•ã€‚

```bash
cd deploy/kubernetes

# éƒ¨ç½²åç«¯æœåŠ¡
kubectl apply -f server/

# éƒ¨ç½²å‰ç«¯æœåŠ¡
kubectl apply -f web/
```

è¯¦ç»†é…ç½®è¯·å‚è€ƒ `deploy/kubernetes/` ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶ã€‚

#### é…ç½®è¯´æ˜

##### åç«¯é…ç½®ï¼ˆserver/config.yamlï¼‰

**é‡è¦é…ç½®é¡¹ï¼š**

```yaml
# ç³»ç»Ÿé…ç½®
system:
  db-type: mysql          # æ•°æ®åº“ç±»å‹
  addr: 8890              # æœåŠ¡ç›‘å¬åœ°å€å’Œç«¯å£
  use-redis: false        # æ˜¯å¦ä½¿ç”¨Redisï¼ˆå»ºè®®ç”Ÿäº§ç¯å¢ƒå¼€å¯ï¼‰

# SSHè·³æ¿æœºé…ç½®
jumpbox:
  enabled: true            # æ˜¯å¦å¯ç”¨SSHè·³æ¿æœº
  port: 2026              # SSHç›‘å¬ç«¯å£

# JWTé…ç½®
jwt:
  signing-key: your-key    # JWTç­¾åå¯†é’¥ï¼ˆç”Ÿäº§ç¯å¢ƒè¯·ä¿®æ”¹ï¼‰
  expires-time: 7d         # Tokenè¿‡æœŸæ—¶é—´
```

##### å‰ç«¯é…ç½®

å‰ç«¯é€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶åç«¯åœ°å€ä¸ä»£ç†ï¼Œä¸»è¦å˜é‡ï¼ˆä½äº web/.env.*ï¼‰ï¼š

```env
VITE_BASE_API=/api            # å‰ç«¯è¯·æ±‚å‰ç¼€ï¼ˆå¼€å‘æ¨¡å¼ç”± Vite ä»£ç†åˆ°åç«¯ï¼‰
VITE_BASE_PATH=http://127.0.0.1
VITE_SERVER_PORT=8890         # åç«¯ç«¯å£
VITE_CLI_PORT=8080            # å‰ç«¯å¼€å‘ç«¯å£
VITE_FILE_API=/uploads/file   # é™æ€/ä¸Šä¼ æ–‡ä»¶åŸºç¡€è·¯å¾„
```

è¯´æ˜ï¼š
- å¼€å‘æ¨¡å¼ï¼š/api å°†è¢« Vite ä»£ç†åˆ° `${VITE_BASE_PATH}:${VITE_SERVER_PORT}/`ï¼ˆè¯¦è§ web/vite.config.jsï¼‰ã€‚
- ç”Ÿäº§éƒ¨ç½²ï¼šå»ºè®®ç”± Nginx/ç½‘å…³å°† `/api` åå‘ä»£ç†åˆ°åç«¯æœåŠ¡ã€‚
- ä»£ç ä¸­ `web/src/utils/request.js` ä½¿ç”¨ `import.meta.env.VITE_BASE_API` ä½œä¸º Axios çš„ baseURLã€‚

#### å¸¸è§é—®é¢˜

**1. æ•°æ®åº“è¿æ¥å¤±è´¥**
- æ£€æŸ¥æ•°æ®åº“æœåŠ¡æ˜¯å¦å¯åŠ¨
- æ£€æŸ¥ `config.yaml` ä¸­çš„æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥æ•°æ®åº“ç”¨æˆ·æ˜¯å¦æœ‰åˆ›å»ºæ•°æ®åº“çš„æƒé™

**2. å‰ç«¯æ— æ³•è¿æ¥åç«¯**
- æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸å¯åŠ¨
- æ£€æŸ¥å‰ç«¯é…ç½®ä¸­çš„APIåœ°å€æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥é˜²ç«å¢™å’Œç«¯å£æ˜¯å¦å¼€æ”¾

**3. Dockerå®¹å™¨æ— æ³•è¿æ¥**
- æ£€æŸ¥DockeræœåŠ¡æ˜¯å¦è¿è¡Œ
- æ£€æŸ¥Docker TLSé…ç½®æ˜¯å¦æ­£ç¡®ï¼ˆå¦‚æœä½¿ç”¨TLSï¼‰
- æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®

**4. SSHè·³æ¿æœºæ— æ³•è¿æ¥**
- æ£€æŸ¥ `jumpbox.enabled` æ˜¯å¦ä¸º `true`
- æ£€æŸ¥SSHç«¯å£æ˜¯å¦è¢«å ç”¨
- æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦å¼€æ”¾SSHç«¯å£ï¼ˆé»˜è®¤2026ï¼‰

#### ç”Ÿäº§ç¯å¢ƒå»ºè®®

1. **å®‰å…¨æ€§**
   - ä¿®æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç 
   - ä¿®æ”¹JWTç­¾åå¯†é’¥
   - å¯ç”¨HTTPS
   - é…ç½®é˜²ç«å¢™è§„åˆ™

2. **æ€§èƒ½ä¼˜åŒ–**
   - å¯ç”¨Redisç¼“å­˜
   - é…ç½®æ•°æ®åº“è¿æ¥æ± 
   - ä½¿ç”¨Nginxåå‘ä»£ç†
   - å¯ç”¨Gzipå‹ç¼©

3. **ç›‘æ§å’Œæ—¥å¿—**
   - é…ç½®æ—¥å¿—è½®è½¬
   - è®¾ç½®æ—¥å¿—çº§åˆ«
   - é…ç½®ç›‘æ§å‘Šè­¦
   - å®šæœŸå¤‡ä»½æ•°æ®åº“

### é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ server/                 # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ api/v1/            # API æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ model/             # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ service/           # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ jumpbox/       # SSHè·³æ¿æœºæœåŠ¡
â”‚   â”œâ”€â”€ router/            # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ config/            # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ plugin/            # æ’ä»¶ç›®å½•
â”‚       â”œâ”€â”€ portforward/   # ç«¯å£è½¬å‘æ’ä»¶
â”‚       â”œâ”€â”€ k8smanager/    # K8sé›†ç¾¤ç®¡ç†æ’ä»¶
â”‚       â”œâ”€â”€ dellasset/     # æˆ´å°”èµ„äº§ç®¡ç†æ’ä»¶
â”‚       â””â”€â”€ aiagent/       # AI Agentæ™ºèƒ½åŠ©æ‰‹æ’ä»¶
â”œâ”€â”€ web/                    # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/api/           # API è°ƒç”¨
â”‚   â”œâ”€â”€ src/view/          # é¡µé¢ç»„ä»¶
â”‚   â””â”€â”€ src/plugin/        # å‰ç«¯æ’ä»¶
â”‚       â”œâ”€â”€ portforward/   # ç«¯å£è½¬å‘æ’ä»¶
â”‚       â”œâ”€â”€ k8smanager/    # K8sé›†ç¾¤ç®¡ç†æ’ä»¶
â”‚       â”œâ”€â”€ dellasset/     # æˆ´å°”èµ„äº§ç®¡ç†æ’ä»¶
â”‚       â””â”€â”€ aiagent/       # AI Agentæ™ºèƒ½åŠ©æ‰‹æ’ä»¶
â””â”€â”€ README.md
```
### ğŸŒ å®˜æ–¹ç½‘ç«™

æ¬¢è¿è®¿é—® **[å¤©å¯ç®—åŠ›ç®¡ç†å¹³å°å®˜ç½‘](./website/index.html)** äº†è§£æ›´å¤šä¿¡æ¯ï¼

**å¿«é€Ÿé¢„è§ˆå®˜ç½‘ï¼š**
```bash
# è¿›å…¥å®˜ç½‘ç›®å½•
cd website

# å¯åŠ¨æœ¬åœ°é¢„è§ˆæœåŠ¡å™¨
python3 -m http.server 8000

# ç„¶ååœ¨æµè§ˆå™¨ä¸­è®¿é—®
# http://localhost:8000
```

**å®˜ç½‘ç‰¹è‰²ï¼š**
- ğŸ¨ **ç§‘æŠ€é£æ ¼è®¾è®¡** - ç°ä»£åŒ–çš„æ·±è‰²ä¸»é¢˜ï¼Œé…åˆé’è‰²å’Œç´«è‰²çš„æ¸å˜æ•ˆæœ
- âœ¨ **ä¸°å¯ŒåŠ¨ç”»æ•ˆæœ** - ç²’å­èƒŒæ™¯ã€3D å¡ç‰‡æ—‹è½¬ã€æ¸å…¥åŠ¨ç”»ç­‰
- ğŸ“± **å®Œç¾å“åº”å¼** - é€‚é…æ¡Œé¢ç«¯ã€å¹³æ¿å’Œç§»åŠ¨è®¾å¤‡
- ğŸš€ **æ— ä¾èµ–å¼€å‘** - çº¯ HTML/CSS/JavaScriptï¼Œæ— éœ€ä»»ä½•å‰ç«¯æ¡†æ¶
- ğŸ”— **ä¸€é”®éƒ¨ç½²** - æ”¯æŒéƒ¨ç½²åˆ°ä»»ä½•é™æ€æ‰˜ç®¡æœåŠ¡

**éƒ¨ç½²å®˜ç½‘ï¼š**
```bash
# GitHub Pages
cp -r website/* docs/website/
git add docs/website/
git commit -m "Add official website"
git push

# æˆ–ä½¿ç”¨ Netlify/Vercel ç­‰æœåŠ¡ç›´æ¥éƒ¨ç½² website/ ç›®å½•
```

### ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```mermaid
graph TB
    subgraph "å‰ç«¯å±‚ Frontend"
        A1[Vue 3 + Vite]
        A2[Element Plus UI]
        A3[Pinia çŠ¶æ€ç®¡ç†]
        A4[Web Terminal]
        A5[Dashboard]
    end

    subgraph "API ç½‘å…³å±‚ Gateway"
        B1[Gin Router]
        B2[JWT è®¤è¯]
        B3[RBAC æƒé™]
        B4[æ“ä½œå®¡è®¡]
    end

    subgraph "ä¸šåŠ¡æœåŠ¡å±‚ Business Services"
        C1[Docker GPU ç®¡ç†]
        C2[K8s é›†ç¾¤ç®¡ç†]
        C3[ç³»ç»Ÿç®¡ç†]
    end

    subgraph "Docker GPU ç®¡ç†æ¨¡å—"
        D1[å®¹å™¨å®ä¾‹ç®¡ç†]
        D2[ç®—åŠ›èŠ‚ç‚¹ç®¡ç†]
        D3[é•œåƒåº“ç®¡ç†]
        D4[äº§å“è§„æ ¼ç®¡ç†]
        D5[ç«¯å£è½¬å‘ç®¡ç†]
        D6[SSH è·³æ¿æœº]
    end

    subgraph "K8s ç®¡ç†æ¨¡å—"
        E1[é›†ç¾¤ç®¡ç†]
        E2[Pod ç®¡ç†]
        E3[å·¥ä½œè´Ÿè½½ç®¡ç†]
        E4[Service ç®¡ç†]
        E5[ç›‘æ§æŒ‡æ ‡]
        E6[æƒé™å®¡è®¡]
    end

    subgraph "ç³»ç»ŸåŠŸèƒ½æ¨¡å—"
        F1[æƒé™ç®¡ç† RBAC]
        F2[å®šæ—¶ä»»åŠ¡]
        F3[æˆ´å°”èµ„äº§ç®¡ç†]
        F4[AI Agent]
        F5[æ¨¡å‹å¾®è°ƒ]
    end

    subgraph "åŸºç¡€è®¾æ–½å±‚ Infrastructure"
        G1[(MySQL/PostgreSQL)]
        G2[(Redis ç¼“å­˜)]
        G3[Docker å¼•æ“]
        G4[Kubernetes API]
        G5[GPU ç®—åŠ›èŠ‚ç‚¹]
    end

    A1 --> B1
    A2 --> B1
    A3 --> B1
    A4 --> B1
    A5 --> B1

    B1 --> C1
    B1 --> C2
    B1 --> C3

    C1 --> D1
    C1 --> D2
    C1 --> D3
    C1 --> D4
    C1 --> D5
    C1 --> D6

    C2 --> E1
    C2 --> E2
    C2 --> E3
    C2 --> E4
    C2 --> E5
    C2 --> E6

    C3 --> F1
    C3 --> F2
    C3 --> F3
    C3 --> F4
    C3 --> F5

    D1 --> G3
    D1 --> G5
    D2 --> G3
    D2 --> G5

    E1 --> G4
    E2 --> G4
    E3 --> G4

    F1 --> G1
    F2 --> G1
    F3 --> G1
    F4 --> G1
    F5 --> G1

    B2 --> G1
    B3 --> G1
    B4 --> G1

    style A1 fill:#42b983,stroke:#2c3e50,color:#fff
    style A2 fill:#409EFF,stroke:#2c3e50,color:#fff
    style C1 fill:#f9f,stroke:#333,stroke-width:2px
    style C2 fill:#bbf,stroke:#333,stroke-width:2px
    style C3 fill:#bfb,stroke:#333,stroke-width:2px
    style G3 fill:#2496ED,stroke:#2c3e50,color:#fff
    style G4 fill:#326CE5,stroke:#2c3e50,color:#fff
    style G5 fill:#76B900,stroke:#2c3e50,color:#fff
```

### ğŸ“Š åŠŸèƒ½æ¨¡å—æ¶æ„

```mermaid
graph LR
    subgraph "ç”¨æˆ·ç•Œé¢"
        U1[ğŸ–¥ï¸ Web æ§åˆ¶å°]
        U2[ğŸ“± ç§»åŠ¨ç«¯<br/>è‡ªé€‚åº”]
        U3[ğŸ’» SSH ç»ˆç«¯]
        U4[ğŸ”Œ API æ¥å£]
    end

    subgraph "æ ¸å¿ƒåŠŸèƒ½"
        H1[ğŸ³ GPU å®¹å™¨ç®¡ç†]
        H2[â˜¸ï¸ K8s é›†ç¾¤ç®¡ç†]
        H3[ğŸ¤– AI èƒ½åŠ›]
        H4[ğŸ”§ è¿ç»´å·¥å…·]
    end

    subgraph "GPU å®¹å™¨ç®¡ç†"
        I1[å®ä¾‹ç”Ÿå‘½å‘¨æœŸ]
        I2[æ™ºèƒ½èµ„æºè°ƒåº¦]
        I3[æ˜¾å­˜åˆ‡åˆ† HAMi]
        I4[ç«¯å£è½¬å‘]
        I5[Web ç»ˆç«¯]
    end

    subgraph "K8s é›†ç¾¤ç®¡ç†"
        J1[å¤šé›†ç¾¤ç®¡ç†]
        J2[å·¥ä½œè´Ÿè½½ç®¡ç†]
        J3[æœåŠ¡å‘ç°]
        J4[ç›‘æ§å‘Šè­¦]
        J5[æƒé™å®¡è®¡]
    end

    subgraph "AI èƒ½åŠ›"
        K1[GLM-4.7 å¯¹è¯]
        K2[æ¨¡å‹å¾®è°ƒ]
        K3[æ™ºèƒ½è°ƒåº¦]
    end

    subgraph "è¿ç»´å·¥å…·"
        L1[èµ„äº§ç®¡ç†]
        L2[å®šæ—¶ä»»åŠ¡]
        L3[æ—¥å¿—å®¡è®¡]
        L4[æƒé™ç®¡ç†]
    end

    U1 --> H1
    U1 --> H2
    U1 --> H3
    U1 --> H4
    U3 --> H1

    U4 --> H1
    U4 --> H2
    U4 --> H3
    U4 --> H4

    H1 --> I1
    H1 --> I2
    H1 --> I3
    H1 --> I4
    H1 --> I5

    H2 --> J1
    H2 --> J2
    H2 --> J3
    H2 --> J4
    H2 --> J5

    H3 --> K1
    H3 --> K2
    H3 --> K3

    H4 --> L1
    H4 --> L2
    H4 --> L3
    H4 --> L4

    style H1 fill:#e1f5ff,stroke:#0277bd
    style H2 fill:#e8f5e9,stroke:#2e7d32
    style H3 fill:#f3e5f5,stroke:#7b1fa2
    style H4 fill:#fff3e0,stroke:#ef6c00
```